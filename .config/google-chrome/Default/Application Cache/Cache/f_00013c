EA.prototype.Tj=ea(81,function(){return V(this,2)});zJ.prototype.Tj=ea(80,g("F"));asa.prototype.Sq=ea(10,function(){return null!=F(this,5)});Vp.prototype.Sq=ea(9,function(){return null!=F(this,1)});jy.prototype.Sq=ea(8,function(){return $x(this,2)});function GZd(a){yb(a,"google::")||(a="google::"+a);a=Kb(a);return Ro(Po(No(Lo(new Ko,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}function e4(){T.call(this)}y(e4,T);var HZd=null;e4.prototype.Bw=function(){return $x(this,1)};
function f4(){T.call(this)}y(f4,T);var IZd=null;f4.prototype.Bw=function(){return $x(this,1)};f4.prototype.xm=function(){return V(this,2)};f4.prototype.JJ=function(){return $x(this,2)};function g4(){T.call(this)}y(g4,T);var JZd=null;g4.prototype.getName=function(){return V(this,1)};g4.prototype.Ie=function(a){W(this,1,a)};function h4(){T.call(this)}y(h4,T);var KZd=null;p=h4.prototype;p.Lb=function(){return V(this,1)};p.Cf=function(){return ey(this,1)};p.gg=function(){return $x(this,1)};
p.Xp=function(){return V(this,2)};p.getColumnIndex=function(){return V(this,3)};p.gt=function(){return ey(this,3)};function i4(){T.call(this)}y(i4,T);var LZd=null;e4.prototype.Ca=function(){var a=HZd;a||(HZd=a=fy(e4,{0:{name:"PlxQuery",Ab:"ritzproto.PlxQuery"},1:{name:"query",Aa:9,type:String},2:{name:"engine",Aa:9,type:String},3:{name:"script_id",Aa:9,type:String}}));return a};e4.Ca=e4.prototype.Ca;
f4.prototype.Ca=function(){var a=IZd;a||(IZd=a=fy(f4,{0:{name:"BigQueryQuery",Ab:"ritzproto.BigQueryQuery"},1:{name:"query",Aa:9,type:String},2:{name:"project_id",Aa:9,type:String}}));return a};f4.Ca=f4.prototype.Ca;g4.prototype.Ca=function(){var a=JZd;a||(JZd=a=fy(g4,{0:{name:"QueryParameter",Ab:"ritzproto.QueryParameter"},1:{name:"name",Aa:9,type:String},2:{name:"constant_value",Aa:9,type:String},3:{name:"workbookrange_id",Aa:9,type:String},4:{name:"cell_coordinate",Aa:11,type:h4}}));return a};
g4.Ca=g4.prototype.Ca;h4.prototype.Ca=function(){var a=KZd;a||(KZd=a=fy(h4,{0:{name:"CellCoordinate",Ab:"ritzproto.CellCoordinate"},1:{name:"sheet_id",Aa:9,type:String},2:{name:"row_index",Aa:5,type:Number},3:{name:"column_index",Aa:5,type:Number}}));return a};h4.Ca=h4.prototype.Ca;
i4.prototype.Ca=function(){var a=LZd;a||(LZd=a=fy(i4,{0:{name:"QueryProto",Ab:"ritzproto.QueryProto"},1:{name:"sql_query",Aa:9,type:String},2:{name:"plx_query",Aa:11,type:e4},4:{name:"bigquery_query",Aa:11,type:f4},3:{name:"parameters",kc:!0,Aa:11,type:g4}}));return a};i4.Ca=i4.prototype.Ca;var MZd={Juc:0,flc:1,woc:2,t2b:3,gsc:4};function j4(){T.call(this)}y(j4,T);var NZd=null;j4.prototype.getName=function(){return V(this,1)};j4.prototype.Ie=function(a){W(this,1,a)};function k4(){T.call(this)}y(k4,T);var OZd=null;p=k4.prototype;p.getId=function(){return V(this,1)};p.xn=function(){return ey(this,1)};p.tf=function(a){W(this,1,a)};p.getType=function(){return V(this,2)};p.setType=function(a){W(this,2,a)};function l4(){T.call(this)}y(l4,T);var PZd=null;function m4(){T.call(this)}y(m4,T);
var QZd=null;m4.prototype.getErrorCode=function(){return V(this,3)};m4.prototype.Sq=function(){return $x(this,3)};function n4(){T.call(this)}y(n4,T);var RZd=null;n4.prototype.Bw=function(){return $x(this,2)};function o4(){T.call(this)}y(o4,T);var SZd=null;o4.prototype.Tj=function(){return V(this,1)};o4.prototype.Lb=function(){return V(this,3)};o4.prototype.Cf=function(){return ey(this,3)};o4.prototype.gg=function(){return $x(this,3)};function p4(){T.call(this)}y(p4,T);var TZd=null;
p4.prototype.Bw=function(){return $x(this,2)};p4.prototype.getToken=function(){return V(this,4)};p4.prototype.setToken=function(a){W(this,4,a)};function q4(){T.call(this)}y(q4,T);var UZd=null;q4.prototype.Tj=function(){return V(this,1)};function r4(){T.call(this)}y(r4,T);var VZd=null;r4.prototype.lH=function(a){by(this,2,a)};function WZd(){T.call(this)}y(WZd,T);var XZd=null;function YZd(){T.call(this)}y(YZd,T);var ZZd=null;function $Zd(){T.call(this)}y($Zd,T);var a_d=null;
function s4(){T.call(this)}y(s4,T);var b_d=null;function t4(){T.call(this)}y(t4,T);var c_d=null;t4.prototype.Lb=function(){return V(this,1)};t4.prototype.Cf=function(){return ey(this,1)};t4.prototype.gg=function(){return $x(this,1)};t4.prototype.Tj=function(){return V(this,2)};function u4(){T.call(this)}y(u4,T);var d_d=null;u4.prototype.xm=function(){return V(this,2)};u4.prototype.JJ=function(){return $x(this,2)};function v4(){T.call(this)}y(v4,T);var e_d=null;
v4.prototype.getErrorCode=function(){return V(this,2)};v4.prototype.Sq=function(){return $x(this,2)};function w4(){T.call(this)}y(w4,T);var f_d=null;w4.prototype.getName=function(){return V(this,1)};w4.prototype.Ie=function(a){W(this,1,a)};w4.prototype.xm=function(){return V(this,3)};function g_d(a,b){W(a,3,b)}w4.prototype.JJ=function(){return $x(this,3)};function x4(){T.call(this)}y(x4,T);var h_d=null;x4.prototype.Bw=function(){return $x(this,2)};function y4(){T.call(this)}y(y4,T);var i_d=null;
y4.prototype.Tj=function(){return V(this,1)};function j_d(){T.call(this)}y(j_d,T);var k_d=null;function z4(){T.call(this)}y(z4,T);var l_d=null;p=z4.prototype;p.getId=function(){return V(this,1)};p.xn=function(){return ey(this,1)};p.tf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Ie=function(a){W(this,2,a)};function m_d(){T.call(this)}y(m_d,T);var n_d=null;function A4(){T.call(this)}y(A4,T);var o_d=null;A4.prototype.getErrorCode=function(){return V(this,2)};
A4.prototype.Sq=function(){return $x(this,2)};function B4(){T.call(this)}y(B4,T);var p_d=null;B4.prototype.xm=function(){return V(this,2)};B4.prototype.JJ=function(){return $x(this,2)};function C4(){T.call(this)}y(C4,T);var q_d=null;C4.prototype.getErrorCode=function(){return V(this,2)};C4.prototype.Sq=function(){return $x(this,2)};function r_d(){T.call(this)}y(r_d,T);var s_d=null;function D4(){T.call(this)}y(D4,T);var t_d=null;D4.prototype.getErrorCode=function(){return V(this,2)};
D4.prototype.Sq=function(){return $x(this,2)};function u_d(){T.call(this)}y(u_d,T);var v_d=null;p=u_d.prototype;p.getId=function(){return V(this,1)};p.xn=function(){return ey(this,1)};p.tf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Ie=function(a){W(this,2,a)};function w_d(){T.call(this)}y(w_d,T);var x_d=null;function y_d(){T.call(this)}y(y_d,T);var z_d=null;y_d.prototype.Bw=function(){return $x(this,2)};function A_d(){T.call(this)}y(A_d,T);var B_d=null;
function C_d(){T.call(this)}y(C_d,T);var D_d=null;C_d.prototype.Tj=function(){return V(this,1)};j4.prototype.Ca=function(){var a=NZd;a||(NZd=a=fy(j4,{0:{name:"CreateConnectionRequest",Ab:"ritzproto.CreateConnectionRequest"},1:{name:"name",Aa:9,type:String},2:{name:"connection_type",Aa:14,defaultValue:0,type:bbb},3:{name:"jdbc_connection_info",Aa:11,type:l4}}));return a};j4.Ca=j4.prototype.Ca;
k4.prototype.Ca=function(){var a=OZd;a||(OZd=a=fy(k4,{0:{name:"ImportConnectionRequest",Ab:"ritzproto.ImportConnectionRequest"},1:{name:"id",Aa:9,type:String},2:{name:"type",Aa:14,defaultValue:0,type:bbb}}));return a};k4.Ca=k4.prototype.Ca;
l4.prototype.Ca=function(){var a=PZd;a||(PZd=a=fy(l4,{0:{name:"JdbcConnectionInfo",Ab:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",Aa:14,defaultValue:0,type:MZd},2:{name:"hostname",Aa:9,type:String},3:{name:"db_name",Aa:9,type:String},4:{name:"username",Aa:9,type:String},5:{name:"password",Aa:9,type:String},6:{name:"use_ssl",Aa:8,type:Boolean},7:{name:"client_key",Aa:9,type:String},8:{name:"client_cert",Aa:9,type:String},9:{name:"server_ca",Aa:9,type:String},10:{name:"jdbc_url",Aa:9,type:String}}));
return a};l4.Ca=l4.prototype.Ca;m4.prototype.Ca=function(){var a=QZd;a||(QZd=a=fy(m4,{0:{name:"CreateConnectionResponse",Ab:"ritzproto.CreateConnectionResponse"},1:{name:"success",Aa:8,type:Boolean},2:{name:"connection_id",Aa:9,type:String},3:{name:"error_code",Aa:14,defaultValue:0,type:cbb},4:{name:"error_text",Aa:9,type:String}}));return a};m4.Ca=m4.prototype.Ca;
n4.prototype.Ca=function(){var a=RZd;a||(RZd=a=fy(n4,{0:{name:"CreateQueryRequest",Ab:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",Aa:9,type:String},2:{name:"query",Aa:11,type:i4}}));return a};n4.Ca=n4.prototype.Ca;o4.prototype.Ca=function(){var a=SZd;a||(SZd=a=fy(o4,{0:{name:"CreateQueryResponse",Ab:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",Aa:11,type:jy},2:{name:"query_id",Aa:9,type:String},3:{name:"sheet_id",Aa:9,type:String}}));return a};o4.Ca=o4.prototype.Ca;
p4.prototype.Ca=function(){var a=TZd;a||(TZd=a=fy(p4,{0:{name:"PreviewQueryRequest",Ab:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",Aa:9,type:String},2:{name:"query",Aa:11,type:i4},3:{name:"max_rows",Aa:5,type:Number},4:{name:"token",Aa:9,type:String},5:{name:"dry_run",Aa:8,type:Boolean}}));return a};p4.Ca=p4.prototype.Ca;
q4.prototype.Ca=function(){var a=UZd;a||(UZd=a=fy(q4,{0:{name:"PreviewQueryResponse",Ab:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",Aa:11,type:jy},2:{name:"query_result",Aa:11,type:r4},3:{name:"total_rows",Aa:5,type:Number},4:{name:"has_more",Aa:8,type:Boolean},5:{name:"metadata",Aa:11,type:YZd}}));return a};q4.Ca=q4.prototype.Ca;
r4.prototype.Ca=function(){var a=VZd;a||(VZd=a=fy(r4,{0:{name:"QueryResult",Ab:"ritzproto.QueryResult"},1:{name:"column_names",kc:!0,Aa:9,type:String},2:{name:"rows",kc:!0,Aa:11,type:WZd}}));return a};r4.Ca=r4.prototype.Ca;WZd.prototype.Ca=function(){var a=XZd;a||(XZd=a=fy(WZd,{0:{name:"QueryResultRow",Ab:"ritzproto.QueryResultRow"},1:{name:"formatted_values",kc:!0,Aa:11,type:qy}}));return a};WZd.Ca=WZd.prototype.Ca;
YZd.prototype.Ca=function(){var a=ZZd;a||(ZZd=a=fy(YZd,{0:{name:"QueryExecutionMetadata",Ab:"ritzproto.QueryExecutionMetadata"},1:{name:"bytes_processed",Aa:9,type:String}}));return a};YZd.Ca=YZd.prototype.Ca;$Zd.prototype.Ca=function(){var a=a_d;a||(a_d=a=fy($Zd,{0:{name:"RefreshSheetsRequest",Ab:"ritzproto.RefreshSheetsRequest"},1:{name:"sheet_ids",kc:!0,Aa:9,type:String}}));return a};$Zd.Ca=$Zd.prototype.Ca;
s4.prototype.Ca=function(){var a=b_d;a||(b_d=a=fy(s4,{0:{name:"RefreshSheetsResponse",Ab:"ritzproto.RefreshSheetsResponse"},1:{name:"results",kc:!0,Aa:11,type:t4}}));return a};s4.Ca=s4.prototype.Ca;t4.prototype.Ca=function(){var a=c_d;a||(c_d=a=fy(t4,{0:{name:"RefreshSheetResult",Ab:"ritzproto.RefreshSheetResult"},1:{name:"sheet_id",Aa:9,type:String},2:{name:"execution_status",Aa:11,type:jy}}));return a};t4.Ca=t4.prototype.Ca;
u4.prototype.Ca=function(){var a=d_d;a||(d_d=a=fy(u4,{0:{name:"GetTablesRequest",Ab:"ritzproto.GetTablesRequest"},1:{name:"connection_id",Aa:9,type:String},2:{name:"project_id",Aa:9,type:String},3:{name:"schema_name",Aa:9,type:String}}));return a};u4.Ca=u4.prototype.Ca;
v4.prototype.Ca=function(){var a=e_d;a||(e_d=a=fy(v4,{0:{name:"GetTablesResponse",Ab:"ritzproto.GetTablesResponse"},1:{name:"success",Aa:8,type:Boolean},2:{name:"error_code",Aa:14,defaultValue:0,type:cbb},3:{name:"error_text",Aa:9,type:String},4:{name:"tables",kc:!0,Aa:11,type:w4}}));return a};v4.Ca=v4.prototype.Ca;
w4.prototype.Ca=function(){var a=f_d;a||(f_d=a=fy(w4,{0:{name:"Table",Ab:"ritzproto.Table"},1:{name:"name",Aa:9,type:String},2:{name:"schema",Aa:9,type:String},3:{name:"project_id",Aa:9,type:String}}));return a};w4.Ca=w4.prototype.Ca;x4.prototype.Ca=function(){var a=h_d;a||(h_d=a=fy(x4,{0:{name:"EditQueryRequest",Ab:"ritzproto.EditQueryRequest"},1:{name:"query_id",Aa:9,type:String},2:{name:"query",Aa:11,type:i4}}));return a};x4.Ca=x4.prototype.Ca;
y4.prototype.Ca=function(){var a=i_d;a||(i_d=a=fy(y4,{0:{name:"EditQueryResponse",Ab:"ritzproto.EditQueryResponse"},1:{name:"execution_status",Aa:11,type:jy}}));return a};y4.Ca=y4.prototype.Ca;j_d.prototype.Ca=function(){var a=k_d;a||(k_d=a=fy(j_d,{0:{name:"ListConnectionsResponse",Ab:"ritzproto.ListConnectionsResponse"},1:{name:"connections",kc:!0,Aa:11,type:z4}}));return a};j_d.Ca=j_d.prototype.Ca;
z4.prototype.Ca=function(){var a=l_d;a||(l_d=a=fy(z4,{0:{name:"Connection",Ab:"ritzproto.Connection"},1:{name:"id",Aa:9,type:String},2:{name:"name",Aa:9,type:String},3:{name:"connection_type",Aa:14,defaultValue:0,type:bbb},4:{name:"jdbc_connection_info",Aa:11,type:l4}}));return a};z4.Ca=z4.prototype.Ca;m_d.prototype.Ca=function(){var a=n_d;a||(n_d=a=fy(m_d,{0:{name:"GetColumnsRequest",Ab:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",Aa:9,type:String},2:{name:"table",Aa:11,type:w4}}));return a};
m_d.Ca=m_d.prototype.Ca;A4.prototype.Ca=function(){var a=o_d;a||(o_d=a=fy(A4,{0:{name:"GetColumnsResponse",Ab:"ritzproto.GetColumnsResponse"},1:{name:"success",Aa:8,type:Boolean},2:{name:"error_code",Aa:14,defaultValue:0,type:cbb},3:{name:"error_text",Aa:9,type:String},4:{name:"column_names",kc:!0,Aa:9,type:String}}));return a};A4.Ca=A4.prototype.Ca;
B4.prototype.Ca=function(){var a=p_d;a||(p_d=a=fy(B4,{0:{name:"GetDatasetsRequest",Ab:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",Aa:9,type:String},2:{name:"project_id",Aa:9,type:String}}));return a};B4.Ca=B4.prototype.Ca;
C4.prototype.Ca=function(){var a=q_d;a||(q_d=a=fy(C4,{0:{name:"GetDatasetsResponse",Ab:"ritzproto.GetDatasetsResponse"},1:{name:"success",Aa:8,type:Boolean},2:{name:"error_code",Aa:14,defaultValue:0,type:cbb},3:{name:"error_text",Aa:9,type:String},4:{name:"dataset_names",kc:!0,Aa:9,type:String}}));return a};C4.Ca=C4.prototype.Ca;
r_d.prototype.Ca=function(){var a=s_d;a||(s_d=a=fy(r_d,{0:{name:"GetBigQueryProjectsRequest",Ab:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",Aa:9,type:String}}));return a};r_d.Ca=r_d.prototype.Ca;
D4.prototype.Ca=function(){var a=t_d;a||(t_d=a=fy(D4,{0:{name:"GetBigQueryProjectsResponse",Ab:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",Aa:8,type:Boolean},2:{name:"error_code",Aa:14,defaultValue:0,type:cbb},3:{name:"error_text",Aa:9,type:String},4:{name:"projects",kc:!0,Aa:11,type:u_d}}));return a};D4.Ca=D4.prototype.Ca;
u_d.prototype.Ca=function(){var a=v_d;a||(v_d=a=fy(u_d,{0:{name:"BigQueryProject",Ab:"ritzproto.BigQueryProject"},1:{name:"id",Aa:9,type:String},2:{name:"name",Aa:9,type:String}}));return a};u_d.Ca=u_d.prototype.Ca;w_d.prototype.Ca=function(){var a=x_d;a||(x_d=a=fy(w_d,{0:{name:"GetQueryRequest",Ab:"ritzproto.GetQueryRequest"},1:{name:"query_id",Aa:9,type:String}}));return a};w_d.Ca=w_d.prototype.Ca;
y_d.prototype.Ca=function(){var a=z_d;a||(z_d=a=fy(y_d,{0:{name:"GetQueryResponse",Ab:"ritzproto.GetQueryResponse"},1:{name:"found",Aa:8,type:Boolean},2:{name:"query",Aa:11,type:i4}}));return a};y_d.Ca=y_d.prototype.Ca;A_d.prototype.Ca=function(){var a=B_d;a||(B_d=a=fy(A_d,{0:{name:"GetExecutionStatusRequest",Ab:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",Aa:9,type:String}}));return a};A_d.Ca=A_d.prototype.Ca;
C_d.prototype.Ca=function(){var a=D_d;a||(D_d=a=fy(C_d,{0:{name:"GetExecutionStatusResponse",Ab:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",Aa:11,type:jy}}));return a};C_d.Ca=C_d.prototype.Ca;function E_d(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function F_d(){var a='<div class="'+R("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><h3 class="'+R("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-header")+'">';a=a+"Billing project"+('</h3><div class="'+R("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>');return P(a)}
function G_d(){var a='<div class="'+R("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-footer-sharing-message")+'">';return P(a+'<span>The data you query is visible to everyone with view access, but your query is only visible to people with edit access. <a href="https://sites.google.com/corp/google.com/sheets-data-connectors-tt-help/home" target="_blank">Learn more</a></span></div>')};function H_d(){return P('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function I_d(){return P('<svg class="waffle-dataconnector-refresh-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><polygon points="0 0 18 0 18 18 0 18"/><path fill="#000" d="M9,13.5 C6.51,13.5 4.5,11.49 4.5,9 C4.5,6.51 6.51,4.5 9,4.5 C10.24,4.5 11.36,5.02 12.17,5.83 L10,8 L15,8 L15,3 L13.24,4.76 C12.15,3.68 10.66,3 9,3 C5.69,3 3.01,5.69 3.01,9 C3.01,12.31 5.69,15 9,15 C11.97,15 14.43,12.84 14.9,10 L13.38,10 C12.92,12 11.14,13.5 9,13.5 L9,13.5 Z"/></g></svg>')}
function J_d(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="'+R(null==a?"#D0021B":a)+'" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>';
return P(a)}
function K_d(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill-rule="evenodd" fill="'+R(null==a?"#D0021B":a)+'" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z"></path></g></svg>';return P(a)}
function L_d(){return P('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#000000" fill-rule="evenodd" d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z"></path></g></svg>')}
function M_d(){return P('<svg class="waffle-dataconnector-plx-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Plx</title><defs><path d="M10.9418364,5.81385031 L14.4202032,5.81385031 L15.1116898,1.66493056 L18.8939326,1.66493056 L18.202446,5.81385031 L21.3350694,5.81385031 L21.3350694,8.92554012 L17.683831,8.92554012 L16.9923444,13.0744599 L21.3350694,13.0744599 L21.3350694,16.1861497 L16.4737294,16.1861497 L15.7822428,20.3350694 L12,20.3350694 L12.6914866,16.1861497 L9.21311982,16.1861497 L8.5216332,20.3350694 L4.73939043,20.3350694 L5.43087706,16.1861497 L2.66493056,16.1861497 L2.66493056,13.0744599 L5.94949203,13.0744599 L6.64097865,8.92554012 L2.66493056,8.92554012 L2.66493056,5.81385031 L7.15959362,5.81385031 L7.85108025,1.66493056 L11.633323,1.66493056 L10.9418364,5.81385031 Z M10.4232214,8.92554012 L9.73173479,13.0744599 L13.2101016,13.0744599 L13.9015882,8.92554012 L10.4232214,8.92554012 Z" id="dataconnector-plx-icon-path-1"></path></defs><g id="icons/db/PLX" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-plx-icon-mask-2" fill="white"><use xlink:href="#dataconnector-plx-icon-path-1"></use></mask><g id="Combined-Shape"></g><g id="colors/Black---100" mask="url(#dataconnector-plx-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function N_d(a){a=a||{};a=a.opacity;a='<svg class="waffle-dataconnector-menu-icon" fill="#000000" fill-opacity="'+R(null==a?1:a)+'" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>';return P(a)}
function O_d(){return P('<svg class="waffle-dataconnector-valid-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#1E8E3E" fill-rule="evenodd" d="M10,0 C4.48,0 0,4.48 0,10 C0,15.52 4.48,20 10,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 10,0 Z M8,15 L3,10 L4.41,8.59 L8,12.17 L15.59,4.58 L17,6 L8,15 Z"></path></g></svg>')}
function P_d(){return P('<svg class="waffle-dataconnector-info-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path transform="rotate(180 10 10)" fill="#4285F4" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>')};function Q_d(a){var b=P;a='<div class="'+R("waffle-dataconnector-modal-header")+'"><div id="'+R(a.ika)+'" class="'+R("waffle-dataconnector-modal-title")+'" role="heading"></div><div class="'+R("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return b(a+c+'</div></div><div class="'+R("waffle-dataconnector-modal-body")+'"></div><div class="'+R("waffle-dataconnector-modal-footer")+'"></div>')};function E4(a,b){a=void 0===a?"":a;rs.call(this,!1,b);this.Ub=a;this.C=new Ys(void 0,R_d.getInstance());this.Ia(this.C);On(this.C,"Close");this.Fb=null;this.sb=!0}q(E4,rs);p=E4.prototype;
p.Da=function(){rs.prototype.Da.call(this);var a=this.getId();Wk(this.hb(),"labelledby",a);Vk(this.hb(),"dialog");K(this.getElement(),"waffle-dataconnector-modal");this.Ub&&K(this.getElement(),this.Ub);Vs(this.getElement(),Q_d,{labelId:a});a=this.Oq();K(a,"waffle-dataconnector-modal-bg");L(a,this.sb);this.C.xb(this.Ka("waffle-dataconnector-modal-close-button"));this.Fb&&S_d(this)};
p.Ja=function(){rs.prototype.Ja.call(this);T_d(this);this.getHandler().V(this.C,"action",this.k5);this.getHandler().V(this.hb(),["keydown","keypress"],this.PFb)};p.Vb=function(){return this.Ib("waffle-dataconnector-modal-body")};function U_d(a){return a.Ib("waffle-dataconnector-modal-footer")}function V_d(a,b){a.Fb=b;a.Wb()&&S_d(a)}function T_d(a){var b=a.va(),c=a.Oq(),d=a.Oo;a.sb?(d&&b.us(d,a.getElement()),b.us(c,a.getElement())):(b.xf(d),b.xf(c))}p.k5=function(){snb.hc()};p.WW=function(){snb.hc()};
p.PFb=function(a){"keydown"==a.type?27==a.keyCode?this.WW():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&sPa(this):this.iDa(a)};function S_d(a){im.getInstance().setContent(a.Ka("waffle-dataconnector-modal-title"),a.Fb)}p.iDa=ba();function R_d(){}q(R_d,Xs);R_d.prototype.Zo=n("waffle-dataconnector-modal-close-button");ua(R_d);function F4(a,b){E4.call(this,a,b);this.H=gf()}q(F4,E4);p=F4.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Ha=function(){E4.prototype.Ha.call(this);this.H.reject()};p.WW=function(){this.reject()};p.k5=function(){this.reject()};function W_d(a,b){F4.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);V_d(this,this.va().Da("SPAN",void 0,N(L_d),"BigQuery query settings"));this.J=a.C;this.D=new oW;this.Ia(this.D);this.D.Hd("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");On(this.D,"Billing project");this.F=new dW("Write query");this.Ia(this.F);this.F.Hd("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}q(W_d,F4);
W_d.prototype.Da=function(){F4.prototype.Da.call(this);Vs(this.Vb(),F_d);Vs(U_d(this),G_d);this.D.render(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};
W_d.prototype.Ja=function(){F4.prototype.Ja.call(this);if(0==this.J.length){this.D.gb(!1);var a=this.D;a.F="No billing projects";a.yC();a=this.va();a.appendChild(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Da("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption","Configure a project in the Google Cloud Platform console to continue"))}else{a=this.J;for(var b=0;b<a.length;b++){var c=a[b];this.D.yd(new ao(c.getName(),c.getId()))}this.getHandler().V(this.F,
"action",this.O).V(this.D,"change",this.L)}this.L()};W_d.prototype.L=function(){this.F.gb(null!=this.D.Ue())};W_d.prototype.O=function(){this.resolve(X_d(this))};function X_d(a){var b=a.D.Ue().getValue();return new E_d(a.J,b)};function Y_d(){this.D=null;this.C=new hy}Y_d.prototype.Ff=ca("D");function Z_d(a,b){a.C.Kh=!0;var c=fp(a.C.serialize(b));return new $e(function(b,e){Xv(hu(Lw(Kp(bx(iu(a.D.$e("/dbx/createConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.C.Kh=!1;c=a.C.zd(m4.Ca(),c.ef());c.Sq()?e(c):b(c)}),function(){var a=new m4;W(a,1,!1);W(a,3,1);e(a)}).Fe()})}
function $_d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/createQuery",c,function(c){a.C.Kh=!1;c=a.C.zd(o4.Ca(),c.ef());3==c.Tj().getState()?e(c):b(c)},function(){var a=new o4,b=new jy;W(a,1,b);b.Xb(3);W(b,2,1);e(a)})})}function a0d(a,b){a.C.Kh=!0;var c=fp(a.C.serialize(b));return new $e(function(b,e){Xv(hu(Lw(Kp(bx(iu(a.D.$e("/dbx/importConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(){b()}),function(){e()}).Fe()})}
function b0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/previewQuery",c,function(c){a.C.Kh=!1;c=a.C.zd(q4.Ca(),c.ef());3==c.Tj().getState()?e(c):b(c)},function(){var a=new q4,b=new jy;W(a,1,b);b.Xb(3);W(b,2,1);e(a)})})}
function c0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(d,e){G4(a,"/dbx/refreshSheets",c,function(b){a.C.Kh=!1;b=a.C.zd(s4.Ca(),b.ef());dy(b,1).some(function(a){return 3==a.Tj().getState()})?e(b):d(b)},function(){var a=new s4,c=new jy;c.Xb(3);W(c,2,1);dy(b,1).forEach(function(b){var d=new t4;W(d,1,b);W(d,2,c);by(a,1,d)});e(a)})})}
function d0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/editQuery",c,function(c){a.C.Kh=!1;c=a.C.zd(y4.Ca(),c.ef());3==c.Tj().getState()?e(c):b(c)},function(){var a=new y4,b=new jy;W(a,1,b);b.Xb(3);W(b,2,1);e(a)})})}function e0d(a){return new $e(function(b,c){Xv(hu(Lp(Kp(bx(iu(a.D.$e("/dbx/listConnections"),"GET")),1).setTimeout(3E4),"currentWorkbookOnly","true"),function(c){a.C.Kh=!1;c=a.C.zd(j_d.Ca(),c.ef());b(c)}),c).Fe()})}
function f0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/getTables",c,function(c){a.C.Kh=!1;c=a.C.zd(v4.Ca(),c.ef());c.Sq()?e(c):b(c)},function(){var a=new v4;W(a,1,!1);W(a,2,1);e(a)})})}function g0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/getColumns",c,function(c){a.C.Kh=!1;c=a.C.zd(A4.Ca(),c.ef());c.Sq()?e(c):b(c)},function(){var a=new A4;W(a,1,!1);W(a,2,1);e(a)})})}
function h0d(a,b){a.C.Kh=!0;var c=fp(a.C.serialize(b));return new $e(function(b,e){Xv(hu(Lw(Kp(bx(iu(a.D.$e("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.C.Kh=!1;c=a.C.zd(y_d.Ca(),c.ef());V(c,1)?b(c):e("Query is not found")}),e).Fe()})}
function i0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/getBigQueryProjects",c,function(c){a.C.Kh=!1;c=a.C.zd(D4.Ca(),c.ef());c.Sq()&&e(c);b(c)},function(){var a=new q4,b=new jy;W(a,1,b);b.Xb(3);W(b,2,1);e(a)})})}function j0d(a,b){a.C.Kh=!0;var c=a.C.serialize(b);return new $e(function(b,e){G4(a,"/dbx/getDatasets",c,function(c){a.C.Kh=!1;c=a.C.zd(C4.Ca(),c.ef());b(c)},function(){var a=new C4;W(a,1,!1);W(a,2,1);e(a)})})}
function G4(a,b,c,d,e){Xv(hu(Lw(Kp(bx(iu(a.D.$e(b),"POST")),1).setTimeout(3E4),["data",fp(c)]),d),e).Fe()}Y_d.prototype.Tj=function(a){var b=this;this.C.Kh=!0;var c=this.C.serialize(a);return new $e(function(a,e){G4(b,"/dbx/getExecutionStatus",c,function(c){b.C.Kh=!1;c=b.C.zd(C_d.Ca(),c.ef());a(c)},function(){e()})})};ua(Y_d);function k0d(a,b){this.D=a;this.C=b}function l0d(a,b,c){var d=new u4;W(d,1,a.C);W(d,2,b);W(d,3,c);return f0d(a.D,d).then(function(a){return dy(a,4)})}function m0d(a,b){var c=new m_d;W(c,1,a.C);W(c,2,b);return g0d(a.D,c).then(function(a){return dy(a,4)})}function n0d(a,b){var c=new B4;W(c,2,b);W(c,1,a.C);return j0d(a.D,c).then(function(a){return dy(a,4)})}function o0d(a){var b=new r_d;W(b,1,a.C);return i0d(a.D,b).then(function(a){return dy(a,4)})};function p0d(){var a='<div class="'+R("waffle-dataconnector-bigquery-welcome-screen-content")+'"><div class="waffle-dataconnector-bigquery-welcome-screen-banner"></div><p>';a=a+"Query your data from BigQuery directly in Google Sheets. You can filter your data, build charts and pivot tables on top of it, collaborate with other users, and much more. Click the button below to connect to your BigQuery data."+('</p><div class="'+R("waffle-dataconnector-bigquery-welcome-screen-continue-button-wrapper")+
'"></div></div>');return P(a)}function q0d(){var a='<div class="'+R("waffle-dataconnector-bigquery-welcome-screen-footer")+'">';return P(a+"Your use of BigQuery is governed by the Google Cloud Platform Terms of Service.</div>")};function r0d(a){F4.call(this,"waffle-dataconnector-bigquery-welcome-screen",a);V_d(this,"BigQuery data connection");this.D=new dW("Get Started");this.Ia(this.D);this.D.Hd("waffle-dataconnector-bigquery-welcome-screen-continue-button")}q(r0d,F4);r0d.prototype.Da=function(){F4.prototype.Da.call(this);Vs(this.Vb(),p0d);Vs(U_d(this),q0d);this.D.render(this.Ka("waffle-dataconnector-bigquery-welcome-screen-continue-button-wrapper"))};
r0d.prototype.Ja=function(){var a=this;F4.prototype.Ja.call(this);this.getHandler().V(this.D,"action",function(){return a.resolve(!0)})};r0d.prototype.WW=function(){this.resolve(!1)};r0d.prototype.k5=function(){this.resolve(!1)};function H4(a,b){ss.call(this,"waffle-dataconnector-prompt",a,b);this.L=gf();Es(this,null);Ds(this,!0);this.C=new oU("Continue");this.Ia(this.C);this.J=new pU("Cancel");this.Ia(this.J);this.O=[]}q(H4,ss);p=H4.prototype;p.Hd=function(a){this.O.push(a);var b=this.getElement();b&&K(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};p.Da=function(){ss.prototype.Da.call(this);var a=xs(this);this.J.render(a);this.C.render(a);L(a,!0)};
p.Ja=function(){var a=this;ss.prototype.Ja.call(this);cl(this.hb(),this.O);this.getHandler().V(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){ss.prototype.setVisible.call(this,a);a||this.reject()};p.Ha=function(){ss.prototype.Ha.call(this);this.reject()};function s0d(a,b){H4.call(this,a,b)}q(s0d,H4);s0d.prototype.Ja=function(){var a=this;H4.prototype.Ja.call(this);this.getHandler().V(this.C,"action",function(){return a.resolve(0)})};function t0d(a){var b='<div class="'+R("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+R("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.gGa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=P(c+"</p>");b+="</h3>"+
c+'</div><div class="'+R("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.gGa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed into the database.";
a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function u0d(){return P('<div class="'+R("waffle-dataconnector-dialog-progress-message")+'"><div class="'+R("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+R("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function v0d(a){mS.call(this,a);this.F=!1}q(v0d,mS);v0d.prototype.Da=function(){mS.prototype.Da.call(this);K(this.getElement(),"waffle-progress-bar");fl(this.getElement(),"waffle-indeterminate-progress-bar",this.F)};function w0d(a,b){a.F!=b&&(a.F=b,a.getElement()&&fl(a.getElement(),"waffle-indeterminate-progress-bar",b))}v0d.prototype.jb=function(a){w0d(this,!1);mS.prototype.jb.call(this,a)};
function x0d(a,b){w0d(a,!1);var c={width:a.getValue()+"%"},d={width:b+"%"};c=new Ms(a.Ka("progress-bar-thumb"),1,c,d,{wj:"width",duration:1,timing:"ease-in",Pl:0});c.Uc("end",function(){mS.prototype.jb.call(a,b)});c.play()};function I4(a,b){ss.call(this,"waffle-dataconnector-dialog",a,b);Es(this,null);this.wy(!1);Ds(this,!0);this.ib=[];this.tb=new oU("Ok");this.Ia(this.tb);this.mb=new pU("Cancel");this.Ia(this.mb);this.sb=new Mm;this.Ub=fn(new en,1).build();this.Bb=this.va().Da("DIV","waffle-dataconnector-dialog-error-message");this.Fb=this.va().Da("DIV","waffle-dataconnector-dialog-info-message");this.Yb=N(u0d);this.L=new v0d;w0d(this.L,!0);this.Ia(this.L)}q(I4,ss);function y0d(a,b,c){Qm(a.sb,a.tb,b,Rm,c,a.Ub)}
function z0d(a){Qm(a.sb,a.mb,snb,Rm,void 0,a.Ub)}function A0d(a){var b=["waffle-dataconnector-queryeditor"];a.Wb()&&(el(a.hb(),a.ib),cl(a.hb(),b));a.ib=b}
I4.prototype.Da=function(){ss.prototype.Da.call(this);cl(this.hb(),this.ib);var a=xs(this),b=this.va().Da("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.mb.render(b);this.tb.render(b);L(a,!0);b=this.va().Da("DIV","waffle-dataconnector-dialog-message-container",this.Bb,this.Fb,this.Yb);a.appendChild(b);this.L.render(this.Ka("waffle-dataconnector-dialog-progress-bar"));Vs(wPa(this),PRc)};
I4.prototype.Ja=function(){ss.prototype.Ja.call(this);B0d(this);Wk(this.Bb,"live","polite");Wk(this.Fb,"live","polite");Wk(this.Yb,"live","polite")};I4.prototype.wy=function(a){ss.prototype.wy.call(this,a);zs(this,this.mI?0:.6)};function C0d(a,b){a=a.Ka("waffle-dataconnector-dialog-error-message");md(a,b||ed(""));L(a,!!b)}function D0d(a,b){a=a.Ka("waffle-dataconnector-dialog-info-message");md(a,b||ed(""));L(a,!!b)}
function E0d(a,b,c){le(a.Ka("waffle-dataconnector-dialog-progress-label"),b);null!=c&&x0d(a.L,c);L(a.Ka("waffle-dataconnector-dialog-progress-message"),!0)}function B0d(a){C0d(a,null);D0d(a,null);a.L.jb(0);w0d(a.L,!0);L(a.Ka("waffle-dataconnector-dialog-progress-message"),!1)};function F0d(a,b,c,d){I4.call(this,c,d);ts(this,"Connected");this.F=a;this.C=b;z0d(this);y0d(this,znb)}q(F0d,I4);F0d.prototype.Da=function(){I4.prototype.Da.call(this);Vs(this.Vb(),t0d,{gGa:2==this.C})};function G0d(a){return P('<div class="'+R("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+R("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+R("waffle-dataconnector-connectioncard-body")+'"><div class="'+R("waffle-dataconnector-connectioncard-header")+'">'+O(a.RM)+"</div></div></div>")};function H0d(a,b,c,d){this.$c=a;this.D=b;this.F=c;this.C=d}H0d.prototype.getName=g("D");H0d.prototype.getId=g("$c");H0d.prototype.getType=g("F");function I0d(){this.F=this.$c=this.D=null;this.C=!1}I0d.prototype.Ie=function(a){this.D=a;return this};I0d.prototype.tf=function(a){this.$c=a;return this};I0d.prototype.setType=function(a){this.F=a;return this};function J0d(a){a.C=!0;return a}I0d.prototype.build=function(){return new H0d(this.$c,this.D,this.F,this.C)};function K0d(){}q(K0d,Xs);K0d.prototype.Da=function(a){a=a.ob();var b=N(G0d,{RM:a.getName()});fl(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};K0d.prototype.rc=n("waffle-dataconnector-connectioncard");ua(K0d);function L0d(a,b){Ys.call(this,void 0,K0d.getInstance(),b);this.Ic(a);this.hf(8,!0)}q(L0d,Ys);L0d.prototype.Ic=function(a){Ys.prototype.Ic.call(this,a)};function M0d(){return P('<div class="'+R("waffle-dataconnector-connectionmanager-content")+'"><div class="'+R("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+R("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function N0d(a,b){I4.call(this,a,b);ts(this,"Managed connections");this.C=new xt;this.Ba(this.C);this.F=new M(this.va());this.Ia(this.F);this.J=new pW;this.Ia(this.J);y0d(this,nD);z0d(this)}q(N0d,I4);N0d.prototype.Da=function(){I4.prototype.Da.call(this);Vs(this.Vb(),M0d)};
N0d.prototype.Ja=function(){I4.prototype.Ja.call(this);this.J.render(this.Ka("waffle-dataconnector-connectionmanager-content"));this.F.xb(this.Ka("waffle-dataconnector-connectionmanager-connections"));this.getHandler().V(this.F,"action",this.O).V(this.C,"select",this.R);O0d(this,!0)};function O0d(a,b){fl(a.hb(),"waffle-dataconnector-connectionmanager-loading",b);qW(a.J,b)}
function P0d(a,b){var c=a.Ka("waffle-dataconnector-connectionmanager-authorized");b=ia(b);for(var d=b.next();!d.done;d=b.next())d=new L0d(d.value),a.F.Ia(d),d.render(c)}N0d.prototype.O=function(a){a.stopPropagation();yt(this.C,a.target)};N0d.prototype.R=function(){var a=(a=(a=this.C.Ue())&&a)&&a.ob();nD.jb(a)};function Q0d(a){var b='<div class="'+R("waffle-dataconnector-bar")+'"><div class="'+R("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+R(a.RM);b+=gt(c);b+='">'+O(a.RM)+'</div><div class="'+R("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+R("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+R("waffle-dataconnector-bar-progress")+'"><div class="'+R("waffle-dataconnector-bar-spinner")+'"></div><span class="'+R("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function R0d(){B.call(this);this.C={};this.D=new hy}q(R0d,B);function S0d(a,b,c){a.C[b]=c}function T0d(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.D.zd(jy.Ca(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(sc(a.C,b),c):d:c};function U0d(a,b,c,d,e){OW.call(this,e);this.R=a;this.O=new Mm;this.Ba(this.O);this.xa=b;this.Ea=c;this.C=new NW;this.Ia(this.C);this.C.Hd("waffle-dataconnector-bar-editquery-button");Qm(this.O,this.C,unb,Rm);this.H=new NW;this.Ia(this.H);this.H.Hd("waffle-dataconnector-bar-refresh-button");Qm(this.O,this.H,Bnb,Rm);this.D=new NW(this.va().Da("SPAN",void 0,N(K_d,{color:"#FF8897"}),"Error in query execution"));this.Ia(this.D);this.D.Hd("waffle-dataconnector-bar-error-button");Qm(this.O,this.D,ynb);
this.La=new V0d;this.Ga=d}q(U0d,OW);p=U0d.prototype;p.Apa=function(){return N(Q0d,{RM:Rb(this.R,64)})};p.Ja=function(){OW.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-bar-editquery-button-wrapper"));this.H.render(this.Ka("waffle-dataconnector-bar-refresh-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-bar-error-button-wrapper"));this.refresh()};p.Bfa=n("waffle-dataconnector-bar-wrapper");p.focus=function(){this.hb().focus()};
p.refresh=function(){var a=T0d(this.Ga,this.xa),b=a?a.getState():2;switch(b){case 4:case 1:a=V(a,5);W0d(this,!0,!1);null!=a?(a="Executing query - "+(a+"%"),le(this.Ka("waffle-dataconnector-bar-progress-message"),a)):le(this.Ka("waffle-dataconnector-bar-progress-message"),"Executing query");break;case 2:W0d(this,!1,!1);break;case 3:W0d(this,!1,!0);break;default:XBc("Unrecognized execution state: "+b)}};
function W0d(a,b,c){fl(a.hb(),"waffle-dataconnector-bar-executing",b);var d=vnb.isEnabled();b?(a.C.setVisible(!1),a.H.setVisible(!1),a.D.setVisible(!1)):(a.C.setVisible(d),a.H.setVisible(d),a.D.setVisible(d&&c));L(a.Ka("waffle-dataconnector-bar-timestamp"),!b);b||(c=a.Ka("waffle-dataconnector-bar-timestamp"),d=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ea),0>=d?le(c,""):(d="Last refreshed "+a.La.format(d),le(c,d)));L(a.Ka("waffle-dataconnector-bar-progress"),b)}
function V0d(){this.C=new Ku(1);this.D=new Ku(Nu.MONTH_DAY_MEDIUM);this.F=new Ku(7)}V0d.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function X0d(a,b,c,d){PW.call(this,"waffle-connectionbar-id",d);var e=this;q1c(this,function(){e.C.setVisible(!0,!0);TR()});this.H=b.Mb;this.J=a;this.L=b;this.F=c;this.D=null;this.getHandler().V(this.F,"ra",this.eFb).V(this.F,"sa",this.fFb).V(this.F,"Ka",this.refresh).V(this.L,"db-execution-status-updated",this.dFb)}q(X0d,PW);p=X0d.prototype;p.Xt=function(){PW.prototype.Xt.call(this);this.rA()};p.refresh=function(){Y0d(this)};p.lO=g("D");
function Y0d(a){var b=a.F.C.C;if(b&&dI(b)){var c=b.H,d,e=V(a.F.C.C.H,2);e=ZDb(a.H,e);2!=V(e,3)||iAc()?d=e.getName():d="Database connection";a.D?(e=a.D,e.R!=d&&(e.R=d,e.Wb()&&le(e.Ka("waffle-dataconnector-bar-header"),Rb(d,64))),c=V(c,1),a.D.xa=c,b=b.Lb(),a.D.Ea=b,a.D.refresh(),a.D.iQ()||(a.D.setVisible(!0,!0),TR())):(a.D=new U0d(d,V(c,1),b.Lb(),a.J),a.show())}}p.eFb=function(){Y0d(this)};p.fFb=function(){this.D&&(this.D.setVisible(!1,!0),TR())};
p.dFb=function(a){a.D&&0!=a.D.length&&this.D&&$a(a.D,this.D.xa)&&this.D.refresh()};function J4(a,b){M.call(this,b);this.D=new GW(a,this.va());this.Ia(this.D);this.L=!1}q(J4,M);p=J4.prototype;p.Nd=function(a){this.L=a;this.D.getHeader().Bc(a)};p.refresh=function(){this.D.getHeader().Bc(this.L)};p.focus=function(){pm(this.D.getHeader()).focus()};p.setContent=function(a){this.D.setContent(a)};p.Vb=function(){return this.D.Vb()};p.Da=function(){this.Nb(this.va().Da("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget"));this.D.render(this.hb())};
p.Ja=function(){M.prototype.Ja.call(this);this.getHandler().V(this,["aftershow","afterhide"],function(a){return a.stopPropagation()}).V(this.D.getHeader(),["charteditor-collapsiblesectionheader-opened","charteditor-collapsiblesectionheader-closed"],this.Nrb)};p.Nrb=function(a){a.stopPropagation();this.L=this.D.getHeader().isChecked();this.dispatchEvent(Gua(64,this.L))};function Z0d(a,b,c){b=c||b;return P('<div class="'+R("waffle-dataconnector-draggablebar")+'">'+$0d(null,b)+"</div>")}function $0d(){return P('<div class="'+R("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+R("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function a1d(a,b){M.call(this,b);this.D=a;this.Rc=this.F=null;this.J=new An;this.Ba(this.J);this.J.Pd(this);this.C=0;this.H=null}q(a1d,M);p=a1d.prototype;p.Da=function(){this.Nb(N(Z0d))};p.Wc=function(a){this.Nb(a);K(this.hb(),"waffle-dataconnector-draggablebar");Vs(a,$0d)};
p.Ja=function(){this.F=this.Ka("waffle-dataconnector-draggablebar-handle");this.Rc=new ns(this.hb(),this.F);this.Ba(this.Rc);this.Rc.C=!0;Bn(this.J,this.F);this.getHandler().V(this.Rc,"start",this.SFb).V(this.Rc,"drag",this.pHb).V(this.Rc,"end",this.RFb);"vertical"==this.D?(Ol(this.hb(),8),K(this.hb(),"waffle-dataconnector-draggablebar-vertical")):(Pl(this.hb(),8),K(this.hb(),"waffle-dataconnector-draggablebar-horizontal"));this.H&&$k(this.F,this.H)};p.cd=n(8);p.gb=function(a){this.Rc.gb(a)};
p.SFb=function(){os(this.Rc,b1d(this));this.dispatchEvent("Oe")};p.pHb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("Me")};p.RFb=function(){this.dispatchEvent("Ne")};function b1d(a){var b=a.hb().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.cd()):(c=0,b-=a.cd());return new ml(0,0,b,c)};function c1d(a,b){var c=b.getErrorCode(),d=V(b,3);switch(c){case 20:return d1d(a,d);case 14:return K4('Update parameter "'+(V(b,6).toUpperCase()+'" to reference a cell in the current workbook and try again'));case 15:return K4('Update the cell referenced by parameter "'+(V(b,6).toUpperCase()+'" to be text or a number'));case 16:return K4("Select a parameter name you haven't used before");case 13:return K4('Define your parameter "'+(V(b,6).toUpperCase()+'" and try again'));case 6:return I(H(),"docs-idu")?
(a=new Dr,b=a.Ce("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.He("a")+a.He("span"))))),a=a.format(b)):a=e1d("Query timed out",d),a;case 8:return I(H(),"docs-idu")?(a=new Dr,b="Results exceed "+(f1d+(" rows. Update query and run again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+a.He("a"))))),a=a.format(b),a=K4(a)):a=e1d(g1d,d),a;case 18:return K4("The query returns an ARRAY or a STRUCT type, which is currently not supported.");case 9:return a=new Dr,b="Go to Plx to specify an engine other than 'Auto' and try again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+a.He("a"))),a=a.format(b),K4(a);case 19:return K4("The query is already in execution.");case 11:return K4("There is no sheet associated with this query.")}return h1d(d)}
function i1d(a){var b=new Dr;a=(new Su("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.Ce("a",{href:"#",id:a}),endLink:b.He("a")});return b.format(a)}function d1d(a,b){if(!b)return h1d(b);switch(a){case 2:return K4("Plx error: "+b);case 3:return K4("BigQuery error: "+b);default:return K4("Database error: "+b)}}function h1d(a){return e1d("Something's wrong. Please try again later",a)}var f1d=(new Qu(1)).format(1E4),g1d="Results exceed "+(f1d+" rows. Update query and run again.");
function K4(a){return hd("span",{"class":"waffle-dataconnector-error-message"},a)}function e1d(a,b){var c=new Dr;b&&(a=a+": "+b);return K4(c.format(a))};function j1d(){var a='<div class="'+R("waffle-dataconnector-textarea-editor")+'"><div class="'+R("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+R("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+R("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+R("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=gt("Enter your query");a+='"></textarea><div class="'+R("waffle-dataconnector-textarea-editor-linegutter")+
'"><div class="'+R("waffle-dataconnector-textarea-editor-linenumber-container")+'"></div></div></div></div>';return P(a)};function L4(a){M.call(this,a);this.$d=!0}q(L4,M);L4.prototype.J=function(){this.dispatchEvent("Qe")};L4.prototype.gb=function(a){a!=this.$d&&(this.$d=a,this.Wb()&&k1d(this))};L4.prototype.isEnabled=g("$d");function l1d(a,b){a=void 0===a?"":a;L4.call(this,b);this.F=this.C=null;this.H=new pW;this.Ia(this.H);this.D=a}q(l1d,L4);l1d.prototype.Da=function(){this.Nb(N(j1d))};
l1d.prototype.Ja=function(){var a=this;L4.prototype.Ja.call(this);this.C=this.Ka("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new Xt(this.C);this.Ba(this.F);this.getHandler().V(this.C,"focus",function(){return m1d(a,!0)}).V(this.C,"blur",function(){return m1d(a,!1)}).V(this.C,"scroll",this.L).V(this.F,"input",this.J);this.H.render(this.Ka("waffle-dataconnector-textarea-editor-textareawrapper"));k1d(this);n1d(this,!1)};
l1d.prototype.J=function(){L4.prototype.J.call(this);o1d(this)};function k1d(a){a.C.disabled=!a.isEnabled();fl(a.hb(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());qW(a.H,!1)}function p1d(a){return a.Wb()?a.C.value:a.D}function n1d(a,b){L(a.Ka("waffle-dataconnector-textarea-editor-overlay"),b)}function m1d(a,b){fl(a.hb(),"waffle-dataconnector-textarea-editor-focused",b)}function q1d(a,b){a.Wb()?(a.C.value=b,k1d(a),o1d(a)):a.D=b}
function o1d(a){var b=p1d(a).split(/\r?\n/).length,c=a.Ka("waffle-dataconnector-textarea-editor-linenumber-container"),d=c.childNodes;if(b<d.length)for(;d.item(b);)c.removeChild(d.item(b));else if(b>d.length)for(d=d.length+1;d<=b;d++)c.appendChild(r1d(a,d))}function r1d(a,b){return a.va().Da("DIV","waffle-dataconnector-textarea-editor-linenumber",""+b)}l1d.prototype.L=function(){var a=-this.C.scrollTop;zl(this.Ka("waffle-dataconnector-textarea-editor-linenumber-container"),0,a)};function s1d(){return P('<div class="'+R("waffle-dataconnector-newqueryeditor-sidebar")+'"></div><div class="'+R("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+R("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+R("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+R("waffle-dataconnector-newqueryeditor-preview-pane")+'"></div></div>')}
function t1d(a,b,c){b=c||b;return P('<div class="'+R("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+R("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-newqueryeditor-footer-message-container")+'">'+O(J_d(null,b))+'<div class="'+R("waffle-dataconnector-newqueryeditor-footer-message")+'" aria-live="polite"></div></div><div class="'+R("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function u1d(a){a=a.ePb;var b='<div class="'+R("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div>';a&&(b+='<div class="'+R("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+R("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">',b+="Reference cell</div></div>");return P(b)};function v1d(a){QW.apply(this,arguments)}q(v1d,QW);v1d.prototype.getValue=function(){return this.C.getValue()};v1d.prototype.XZ=function(a){this.C.jb(a);return!0};function w1d(a,b){E4.call(this,"waffle-dataconnector-query-parameter-prompt",b);V_d(this,"Query Parameter");this.Rc=null;this.sb=!1;this.Wb()&&T_d(this);this.J=new oU;this.Ba(this.J);this.J.Hd("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new v1d("text","Name","float","",void 0);this.Ia(this.H);this.H.Hd("waffle-dataconnector-query-parameter-prompt-name-field");this.H.oa=!0;this.F=new v1d("text","Value","float","",void 0);this.Ia(this.F);this.F.Hd("waffle-dataconnector-query-parameter-prompt-value-field");
this.F.oa=!0;b=this.va();this.L=new Ys(N(B0c),jm(Xs,"waffle-dataconnector-query-parameter-prompt-rangepicker"),b);b=this.F;var c=this.L;C(b.xa);b.xa=c;b.Wb()&&b.xa&&b.xa.render(b.Ka("waffle-material-labeledinput-embeddedcontrol"));this.D=null;a&&(this.D=new fS,this.Ia(this.D),this.D.Hd("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle"))}q(w1d,E4);p=w1d.prototype;p.Ie=function(a){this.H.jb(a)};p.jb=function(a){this.F.jb(a)};p.getName=function(){return this.H.getValue()};
p.getValue=function(){return this.F.getValue()};function x1d(a,b){a.D&&(a.D.Bc(b),a.IJa())}function y1d(a){return null==a.D||a.D.isChecked()}p.clear=function(){this.H.jb("");this.F.jb("");RW(this.H,!1);RW(this.F,!1);this.D&&this.D.Bc(!1)};
p.Da=function(){E4.prototype.Da.call(this);Vs(this.Vb(),u1d,{ePb:!!this.D});this.H.render(this.Ka("waffle-dataconnector-query-parameter-prompt-input-container"));this.F.render(this.Ka("waffle-dataconnector-query-parameter-prompt-input-container"));if(this.D){var a=this.Ka("waffle-dataconnector-query-parameter-prompt-toggle-label");dm(this.D,a);ORc(this.D,a)}this.J.render(U_d(this))};
p.Ja=function(){var a=this;E4.prototype.Ja.call(this);kva(this.va());Lm(this.L.hb(),"Select cell",void 0);this.Rc=new ns(this.hb(),this.Ka("waffle-dataconnector-modal-header"));this.Ba(this.Rc);L(this.Oq(),!1);this.getHandler().V(this.J,"action",this.TDa).V(this.L,"action",function(){return a.dispatchEvent("Se")});this.D&&(this.getHandler().V(this.D,"change",this.IJa),ORc(this.D,this.Ka("waffle-dataconnector-query-parameter-prompt-toggle-label")));z1d(this)};p.kd=ba();
p.TDa=function(){var a=this.H.getValue();(a=Gb(a)?"Please enter a parameter name":null)&&RW(this.H,!0,a);a:{var b=this.F.getValue();if(Gb(b))b="Please enter a parameter value";else{if(y1d(this)&&(b=ritz_api.DbxApi.parseQueryParameterRange(b).getErrorMessage()))break a;b=null}}b&&RW(this.F,!0,b);a||b||this.dispatchEvent("Re")};p.IJa=function(){z1d(this);this.L.setVisible(y1d(this))};function z1d(a){var b=y1d(a)?"Cell reference":"Value";a.F.setContent(b)}p.WW=function(){this.dispatchEvent("Te")};
p.k5=function(){this.dispatchEvent("Te")};p.iDa=function(a){13==a.keyCode&&this.TDa()};function A1d(a){return P('<span class="'+R("waffle-dataconnector-queryeditor-queryparameterchip-content")+'"><span class="'+R("waffle-dataconnector-queryeditor-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+R("waffle-dataconnector-queryeditor-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function B1d(){return P('<div class="'+R("waffle-dataconnector-queryeditor-removable-chip")+'"><div class="'+R("waffle-dataconnector-queryeditor-removable-chip-inner")+'" role="presentation"></div></div>')};function C1d(a,b){M.call(this,b);this.C=new Ys(void 0,D1d.getInstance(),this.va());this.Ia(this.C,!0);this.C.setContent(a);this.D=new Ys(N(H_d),E1d.getInstance(),this.va());this.Ia(this.D,!0);this.F=!1}q(C1d,M);p=C1d.prototype;p.Da=function(){this.Nb(N(B1d))};p.Vb=function(){return this.Ib("waffle-dataconnector-queryeditor-removable-chip-inner")};
p.Ja=function(){var a=this;M.prototype.Ja.call(this);fl(this.hb(),"waffle-dataconnector-queryeditor-removable-chip-error",this.F);this.getHandler().V(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Ue")}).V(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Ve")})};p.setContent=function(a){this.C.setContent(a)};p.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function E1d(){}q(E1d,Xs);E1d.prototype.rc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");
ua(E1d);function D1d(){}q(D1d,Xs);D1d.prototype.Da=function(a){var b=Xs.prototype.Da.call(this,a);a.va().appendChild(b,a.va().Da("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};D1d.prototype.Vb=function(a){return Nd("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};D1d.prototype.rc=n("waffle-dataconnector-queryeditor-removable-chip-button");ua(D1d);var F1d=new hy;function G1d(a,b){var c=new g4;c.Ie(a);W(c,4,b);return c}
function H1d(a){var b=V(a,3),c=V(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=F1d.zd(gC.Ca(),b).getName();break a}c=F1d.zd(vy.Ca(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Lb(),c.Cc(),c.Ac())||"#REF"}else c="#REF";else c?(b=c.Lb(),a=c.Xp(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=V(a,2);return c}
function I1d(a){var b=new h4,c=a.Lb();W(b,1,c);c=a.Cc();W(b,2,c);a=a.Ac();W(b,3,a);return b};function J1d(a,b){C1d.call(this,K1d(a),b);this.Ic(a.clone())}q(J1d,C1d);J1d.prototype.Ic=function(a){a=a.clone();C1d.prototype.Ic.call(this,a);this.setContent(K1d(a));this.F=a=!!ritz_api.DbxApi.resolveQueryParameter((new hy).serialize(a)).getErrorCode();this.Wb()&&fl(this.hb(),"waffle-dataconnector-queryeditor-removable-chip-error",a)};J1d.prototype.ob=function(){return C1d.prototype.ob.call(this).clone()};function K1d(a){var b=a.getName().toUpperCase();a=H1d(a);return N(A1d,{name:b,value:a})};function L1d(){return P('<div class="'+R("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+R("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+R("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function M1d(a){var b=P,c='<div class="'+R("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
O(d)+"<div>"+O(a.title)+"</div></div>")};function N1d(a){J4.call(this,N(M1d,{title:"Parameters"}),a);this.F=new M;this.Ia(this.F);this.C=new O1d;this.H=new oU("Add");this.Ia(this.H);this.H.Hd("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button");On(this.H,"Add parameter")}q(N1d,J4);p=N1d.prototype;
p.Da=function(){J4.prototype.Da.call(this);this.setContent(N(L1d));this.F.xb(this.Ka("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.H.render(this.Ka("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ia(this.C.Cd()),b=a.next();!b.done;b=a.next())b.value.render(this.F.getElement())};p.Ja=function(){J4.prototype.Ja.call(this);this.getHandler().V(this.F,"Ue",this.UFb).V(this.F,"Ve",this.Nub).V(this.H,"action",this.peb)};
function P1d(a){return a.C.Cd().map(function(a){return a.ob()})}function Q1d(a,b){for(var c=ia(a.C.Cd()),d=c.next();!d.done;d=c.next())d=d.value,a.F.removeChild(d,a.Wb()),C(d);a.C.clear();b=ia(b);for(c=b.next();!c.done;c=b.next())R1d(a,c.value)}function R1d(a,b){S1d(b);var c=b.getName();if(a.C.get(c))throw new T1d("Parameter with name '"+c+"' is\nalready defined.");b=new J1d(b,a.va());a.C.set(c,b);a.F.Ia(b,a.Wb())}p.UFb=function(a){a.stopPropagation();this.dispatchEvent(new U1d("Ye",this,a.target.ob()))};
p.Nub=function(a){a.stopPropagation();this.dispatchEvent(new U1d("Xe",this,a.target.ob()))};p.peb=function(a){a.stopPropagation();this.dispatchEvent(new U1d("We",this))};function O1d(){this.Hb={}}p=O1d.prototype;p.get=function(a){return this.Hb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Hb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Hb["P_"+a.toUpperCase()]=b};p.Cd=function(){return Object.values(this.Hb)};p.clear=function(){for(var a=Object.keys(this.Hb),b=0;b<a.length;b++)delete this.Hb[a[b]]};
function S1d(a){var b=a.getName();if(!b)throw new V1d("Parameters must have a name");var c=V(a,2),d=V(a,3);a=V(a,4);if(!c&&!d&&!a)throw new V1d("Parameter '"+b+"'has no value set.");}function V1d(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(V1d,Error);function T1d(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(T1d,Error);
function W1d(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(W1d,Error);function U1d(a,b,c){D.call(this,a,b);this.C=c}q(U1d,D);function X1d(a,b,c,d){E.call(this);this.L=new il(this);this.Ba(this.L);this.J=new il(this);this.Ba(this.J);this.D=a;this.C=null;this.R=c;this.O=b;this.F=null;this.H=d;this.L.V(this.D,"We",this.DAb).V(this.D,"Xe",this.EAb).V(this.D,"Ye",this.FAb)}q(X1d,E);p=X1d.prototype;p.Ha=function(){this.F&&this.F.DC();this.F=null;C(this.C)};
p.DAb=function(){this.QM();this.C=new w1d(2==this.H);this.C.render();this.C.J.setContent("Add");x1d(this.C,!1);(new ln(this.D.Vb(),0)).kd(this.C.hb(),0);this.C.setVisible(!0);this.dispatchEvent("af");var a=this.C;this.J.V(a,"Re",this.MDb).V(a,"Te",this.QM).V(a,"Se",this.YNa)};
p.FAb=function(a){a=a.C;this.QM();this.C=new w1d(2==this.H);this.C.render();this.C.Ie(a.getName());this.C.jb(H1d(a));x1d(this.C,!$x(a,2));this.C.J.setContent("Update");(new ln(this.D.Vb(),0)).kd(this.C.hb(),0);this.C.setVisible(!0);this.dispatchEvent("af");Y1d(this,a)};p.QM=function(){C(this.C);this.C=null;this.dispatchEvent("$e")};
p.MDb=function(){var a=this.C,b=a.getName().toUpperCase(),c=a.getValue();if(this.D.C.has(b))RW(a.H,!0,"There is already a parameter with this name");else if(a=y1d(a),b=Z1d(this,b,c,a))R1d(this.D,b),this.QM(),this.dispatchEvent(new $1d("Ze",b))};
function Y1d(a,b){var c=b.clone();b=a.C;a.J.V(b,"Re",function(){var b=a.C,e=b.getName().toUpperCase(),f=c.getName(),h=b.getValue();if(e==f||!a.D.C.has(e))if(b=y1d(b),e=Z1d(a,e,h,b)){h=a.D;S1d(e);b=e.getName();if(!h.C.get(f))throw new W1d;if(b.toUpperCase()!=f.toUpperCase()&&h.C.get(b))throw new T1d;var k=h.C.get(f);k.Ic(e);b!=f&&(delete h.C.Hb["P_"+f.toUpperCase()],h.C.set(b,k));a.QM();f=new $1d("cf",e);f.D=c;a.dispatchEvent(f)}}).V(b,"Te",a.QM).V(b,"Se",a.YNa)}
p.EAb=function(a){a=a.C;var b=a.getName();this.D.C.has(b);var c=this.D,d=c.C.get(b);if(!d)throw new W1d;c.F.removeChild(d,c.Wb());delete c.C.Hb["P_"+b.toUpperCase()];C(d);this.dispatchEvent(new $1d("bf",a))};
function Z1d(a,b,c,d){if(3==a.H&&!a2d.test(b))return RW(a.C.H,!0,"Please enter a valid parameter name"),null;d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(a=a.C,b=c.getErrorMessage(),null==b?RW(a.F,!1):RW(a.F,!0,b),a=null):(b=b2d(b,c),ritz_api.DbxApi.resolveQueryParameter((new hy).serialize(b)).getErrorCode()?(RW(a.C.F,!0,"Please enter a valid cell"),a=null):a=b)):(a=new g4,a.Ie(b),W(a,2,c));return a}
function b2d(a,b){b.getErrorMessage();if(b.getNamedRangeWorkbookRangeId()){b=b.getNamedRangeWorkbookRangeId();var c=new g4;c.Ie(a);W(c,3,b);return c}if(b.getGridRange())return b=CR(b.getGridRange()),b=I1d(b),G1d(a,b)}
p.YNa=function(){var a=this;fU(this.R,null,new c2d(this.C),this.C.getValue(),!0,!1,!0,function(b){a.O.setVisible(!1);a.C.setVisible(!1);a.F=b;a.L.Uc(b,"hide",a.YGb)},void 0,function(a){a=ritz_api.DbxApi.parseQueryParameterRange(a);a.getErrorMessage()?a=df(a.getErrorMessage()):(a=b2d("name",a),a=ritz_api.DbxApi.resolveQueryParameter((new hy).serialize(a)).getErrorCode()?df("Select a cell with text, a number or a boolean"):df(null));return a})};
p.YGb=function(){this.isDisposed()||(this.F=null,this.O.setVisible(!0),this.C.setVisible(!0),Wk(this.C.hb(),"hidden",!1))};function c2d(a){this.C=a}c2d.prototype.jb=function(a){this.C.jb(a);x1d(this.C,!0)};function $1d(a,b,c){D.call(this,a,c);this.C=b;this.D=null}q($1d,D);var a2d=/^[A-Za-z_][A-Za-z0-9_]*$/;function d2d(){return P('<div class="'+R("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+R("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"><div class="'+R("waffle-dataconnector-querypreviewrenderer-a11y-region")+'" tabIndex="0"></div><div class="'+R("waffle-dataconnector-querypreviewrenderer-preview-overlay")+'"></div></div></div>')};function M4(a,b){M.call(this,b);this.L=a;this.D=this.va().Da("CANVAS");cM(this.D);this.F=bM(this.D);this.O=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.O,this.F,this.L.D,this.L.C);dM(this.D,this.F,800,243);e2d(this);this.J=new hy;this.H=!0}q(M4,M);M4.prototype.Da=function(){this.Nb(N(d2d));var a=this.Ka("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);K(a,"native-scrollbar");K(a,"native-scrollbar-ltr")};
M4.prototype.Ja=function(){M.prototype.Ja.call(this);L(this.hb(),this.H);le(this.Ka("waffle-dataconnector-querypreviewrenderer-a11y-region"),"No preview available")};M4.prototype.Ha=function(){M.prototype.Ha.call(this)};M4.prototype.setVisible=function(a){this.H=a;this.Wb()&&L(this.hb(),this.H)};function f2d(a,b){fl(a.Ka("waffle-dataconnector-querypreviewrenderer-preview-overlay"),"visible",b)}
function g2d(a,b,c){a.D.style.width=b;a.D.style.height=c;dM(a.D,a.F,b,c);Nl(a.Ka("waffle-dataconnector-querypreviewrenderer-preview-overlay"),new Dd(b,c));e2d(a)}function e2d(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)}function h2d(a,b){var c=a.va().Da("TR");b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.va().Da("TH",{scope:"col"},d));return c}
function i2d(a,b){var c=a.va().Da("TR");b=dy(b,1);b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.va().Da("TH",{scope:"col"},ritz_api.RitzModelApi.renderFormattedValueProtoAsString(a.J.serialize(d))));return c};function j2d(a){M.call(this,a);this.C=null}q(j2d,M);p=j2d.prototype;p.Ha=function(){M.prototype.Ha.call(this);this.C=null};p.Da=function(){this.Nb(this.va().Da("DIV",{tabIndex:0,"class":"waffle-dataconnector-queryeditor-sidebaraccordion"}))};p.Ja=function(){M.prototype.Ja.call(this);this.getHandler().V(this,"open",this.lhb).V(this.hb(),"keyup",this.VFb)};p.Ia=function(a,b){M.prototype.Ia.call(this,a,b)};p.Xf=function(a,b,c){M.prototype.Xf.call(this,a,b,c)};
p.lhb=function(a){a.target instanceof J4&&this.C!=a.target&&(this.C&&this.C.Nd(!1),this.C=a.target)};p.VFb=function(a){13==a.keyCode&&a.target==this.hb()&&(a=this.Zc(0))&&a.focus()};function k2d(){B.call(this);this.C=BC("win")}q(k2d,B);function l2d(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new Ko(a.C.location.href)).resolve(new Ko("dbx/ssoLogin")).toString();var c=Pd();(a=Fr(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}k2d.prototype.Ha=function(){delete this.C.dataConnectorOnCompleteAuth;B.prototype.Ha.call(this)};var m2d=new Qu(1);function n2d(a,b){var c=V(a,3);return b?V(a,4)?"Query returns more than "+(m2d.format(c)+(" rows of data. Please revise your query to return no more than "+(m2d.format(1E4)+" rows."))):"Query returns "+(m2d.format(c)+(" rows of data. Please revise your query to return no more than "+(m2d.format(1E4)+" rows."))):(new Su("{TOTAL_ROWS, plural, =0 {Query returns no results.}=1 {Query returns 1 row of data.}other {Query returns # rows of data.}}")).format({TOTAL_ROWS:c})}
function o2d(a){var b=1024<=a;a=b?BSc(parseInt(a,10)):a;return(new Su("{AT_LEAST_ONE_KB, select, \n     true {Will process {BYTES}.}\n     other {\n         {BYTES, plural,\n             =0 {Will process # bytes.}\n             =1 {Will process # byte.}\n             other {Will process # bytes.}}}}")).format({AT_LEAST_ONE_KB:b?"true":"false",BYTES:a})};function N4(a,b,c,d,e,f,h){E4.call(this,"waffle-dataconnector-newqueryeditor",h);this.Sc=a;this.Xc=b;this.jd=c;this.F=new oU("View results");this.F.Hd("waffle-dataconnector-newqueryeditor-preview-query-button");this.Ia(this.F);this.Ea=new dW("Insert results");this.Ea.Hd("waffle-dataconnector-newqueryeditor-execute-query-button");this.Ia(this.Ea);this.D=new l1d(void 0,this.va());this.Ia(this.D);this.L=new j2d;this.Ia(this.L);this.ib=new N1d(this.va());this.L.Ia(this.ib,!0);this.mb=new X1d(this.ib,
this,e,this.qK());this.Ba(this.mb);this.J=d;this.Ia(this.J);this.H=new a1d("horizontal",this.va());this.Ba(this.H);a=this.H;a.H="Toggle preview pane";a.Wb()&&$k(a.Ka("waffle-dataconnector-draggablebar-handle"),a.H);this.mc=this.tb=this.bb=!1;this.Mb=null;this.Fc=f||new k2d;this.Ba(this.Fc);this.Bb=this.xa=null;this.O=new rm(100);this.Ba(this.O)}q(N4,E4);
function p2d(a,b,c){a.D.gb(!1);b.then(function(b){return q2d(a,b)},function(){return q2d(a,null)});c&&c.then(function(b){3==b.getState()&&(a.Wb()?r2d(a,b):a.Bb=function(){r2d(a,b)})})}function s2d(a){var b=a.hga(),c;if(c=b){a=ia(P1d(a.ib));for(c=a.next();!c.done;c=a.next())by(b,3,c.value);c=b}return c}function q2d(a,b){if(b){var c=dy(b,3).map(function(a){return t2d(a)});Q1d(a.ib,c)}a.ska(b);a.QQ()}
function t2d(a){if(!V(a,3))return a;var b=V(a,3);return 11!=ritz_api.RitzModelApi.getWorkbookRangeType(b)?a:(b=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1))?(b=(new hy).zd((new vy).Ca(),b),b=I1d(b),G1d(a.getName(),b)):a}p=N4.prototype;p.jKa=function(){this.bb=!0;u2d(this,ed("Executing query"));this.RK()};
p.fKa=function(a,b){this.O.stop();this.O.ez();v2d(this,!1);this.bb=!1;this.Mb=b;this.mc=1E4<V(a,3)||!!V(a,4);this.isDisposed()||(b=hd("strong",void 0,n2d(a,this.mc)),b=kd(b,hd("br"),w2d),u2d(this,b));b=this.J;a=V(a,2);var c=b.J.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,c);c=ritz_api.DbxApi.getWidth(b.C);var d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");g2d(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,
0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);f2d(b,!1);c=b.va().Da("TABLE");d=b.va().Da("THEAD",void 0,h2d(b,dy(a,1)));e=b.va().Da("TBODY");a=dy(a,2);a=ia(a);for(f=a.next();!f.done;f=a.next())e.appendChild(i2d(b,f.value));c.appendChild(d);c.appendChild(e);a=b.Ib("waffle-dataconnector-querypreviewrenderer-a11y-region");b.va().Ed(a);c&&b.va().appendChild(a,
c);x2d(this);this.F.setContent(N(I_d));On(this.F,"Refresh results");this.F.Hd("refresh");this.RK()};function x2d(a){a.J.setVisible(!0);var b=Math.min(Rl(a.J.D).height+16,240);y2d(a,b)}p.eKa=function(){z2d(this)};function z2d(a){if(!a.O.enabled){var b=0;A2d(a,b);a.O.V("tick",function(){a.isDisposed()||(b+=.1,A2d(a,b))});a.O.start()}}function A2d(a,b){u2d(a,ed("Executing query "+(b.toFixed(1)+"s")))}p.dKa=function(a){B2d(this,a)};
function B2d(a,b){a.bb=!1;a.O.stop();a.O.ez();v2d(a,!0);r2d(a,b.Tj());a.RK()}function r2d(a,b){10==b.getErrorCode()?C2d(a):u2d(a,c1d(a.qK(),b))}p.Nla=function(){this.bb=!0;u2d(this,ed("Updating workbook"));this.RK()};p.Lla=function(a){B2d(this,a)};p.Da=function(){E4.prototype.Da.call(this);this.va().appendChild(this.Vb(),Ws(s1d));var a=U_d(this);Vs(a,t1d);this.L.render(this.Ka("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Ja=function(){var a=this;E4.prototype.Ja.call(this);this.D.render(this.Ka("waffle-dataconnector-newqueryeditor-editor-pane"));this.Ea.render(this.Ka("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.F.render(this.Ka("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.J.render(this.Ka("waffle-dataconnector-newqueryeditor-preview-pane"));this.H.xb(this.Ka("waffle-dataconnector-newqueryeditor-preview-resize-bar"));this.getHandler().V(this.H,["Me","Ne"],this.ytb).V(this.F,
"action",this.gKb).V(this.Ea,"action",this.m9a).V(this.mb,["Ze","bf","cf"],this.kIb).V(this.mb,["af","$e"],this.RK).V(this.D,"Qe",this.QQ).V(this.H,"key",this.xtb);um(function(){if(!a.isDisposed()){var b=a.J;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");g2d(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,
"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);f2d(b,!1);a.Bb&&a.Bb()}});y2d(this,0);u2d(this,w2d);this.RK()};p.Ha=function(){E4.prototype.Ha.call(this);C(this.xa);this.xa=null};p.QQ=function(){v2d(this,!1);this.RK()};p.setVisible=function(a){E4.prototype.setVisible.call(this,a);a&&D2d(this)};function D2d(a){a.L.jf(function(a){a.refresh()})}
function y2d(a,b){var c=void 0===c?!0:c;C(a.xa);a.xa=null;c?(c=E2d(a),a.xa=new F2d(c,b,200,a),a.Ba(a.xa),a.xa.play()):G2d(a,b)}function E2d(a){return a.Wb()?Rl(a.Ka("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}
function G2d(a,b){var c=a.Ka("waffle-dataconnector-newqueryeditor-main");b=Rl(c).height-a.H.cd()-b;a=a.H;os(a.Rc,b1d(a));a.C="vertical"==a.D?cPa(a.Rc,b):dPa(a.Rc,b);c=ia("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;iF(a.hb(),b,c,a.ue());a.dispatchEvent("Me")}
p.kIb=function(a){switch(a.type){case "Ze":var b=a.C.getName().toUpperCase();b=2==this.qK()?"${"+b+"}":"@"+b;a=p1d(this.D);kba(a,b)||(/[^\s"']$/.test(a)&&(b=" "+b),q1d(this.D,a+b));break;case "cf":b=a.C;a=a.D.getName();var c=b.getName();a!=c&&(b=2==this.qK()?new RegExp("\\$\\{"+a+"\\}","ig"):new RegExp("\\@"+a,"ig"),a=2==this.qK()?"${"+c+"}":"@"+c,c=p1d(this.D))&&(b=c.replace(b,a),q1d(this.D,b))}this.QQ()};
p.RK=function(){var a=s2d(this);this.F.setVisible(!this.tb);var b=this.mb.C;this.bb||this.tb||null==a||b?(this.Ea.gb(!1),this.F.gb(!1)):(this.F.gb(!0),this.Ea.gb(!0),a=this.Mb&&this.Mb.equals(a),f2d(this.J,!a))};p.gKb=function(){mD.hc(H2d(this))};p.m9a=function(){var a=s2d(this);this.Xc.hc(this.jd(a))};function H2d(a){var b=new p4;W(b,1,a.Sc);a=s2d(a);W(b,2,a);W(b,3,30);return b}
function C2d(a){var b="waffle-dataconnector-ssologin-"+Xb(),c=i1d(b);u2d(a,c);(b=Jd(b))&&a.getHandler().V(b,"click",function(){return I2d(a)})}p.ytb=function(){var a=this.Ka("waffle-dataconnector-newqueryeditor-editor-pane");Pl(a,this.H.C);var b=this.Ka("waffle-dataconnector-newqueryeditor-main");a=this.Ka("waffle-dataconnector-newqueryeditor-preview-pane");b=Rl(b).height-this.H.C-this.H.cd();Pl(a,b);this.J.setVisible(0!=b)};
p.xtb=function(a){13==a.keyCode&&(0==E2d(this)?(x2d(this),OC("Preview pane expanded"),this.J.Ka("waffle-dataconnector-querypreviewrenderer-a11y-region").focus()):(y2d(this,0),OC("Preview pane collapsed")));a.stopPropagation()};function I2d(a){l2d(a.Fc,function(){v2d(a,!1);mD.hc(H2d(a))})}function u2d(a,b){md(a.Ka("waffle-dataconnector-newqueryeditor-footer-message"),b)}
function v2d(a,b){a.tb=b;a.Wb()&&fl(a.Ka("waffle-dataconnector-newqueryeditor-footer-message-container"),"waffle-dataconnector-newqueryeditor-unhandled-error",b)}p.WW=ba();function F2d(a,b,c,d){Bu.call(this,[a],[b],c);this.F=d}q(F2d,Bu);F2d.prototype.OY=function(){G2d(this.F,this.coords[0])};F2d.prototype.UQ=function(){G2d(this.F,this.yN[0])};
var J2d=new Dr,K2d="Inserted data is visible to all. The query is visible only to people with edit access. "+(J2d.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-data-connectors-tt-help/home",target:"_blank"})+("Learn more"+J2d.He("a"))),w2d=J2d.format(K2d);function L2d(a,b,c){b=c||b;a='<div class="'+R("waffle-dataconnector-pill-menuitem-refreshquery")+" "+R("waffle-dataconnector-pill-menuitem")+'">'+O(I_d(null,b));a+="Refresh query";b='<span class="'+R("waffle-dataconnector-pill-menuitem-refreshquery-info")+'"><span class="'+R("waffle-dataconnector-pill-menuitem-refreshquery-info-button")+'">';c=P('<svg class="waffle-dataconnector-info-icon-filled" fill="#000000" fill-opacity="0.54" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>');
a+=b+O(c)+'</span><span class="'+R("waffle-dataconnector-pill-menuitem-refreshquery-info-message")+'"></span><span class="'+R("waffle-dataconnector-pill-menuitem-refreshquery-info-spinner")+'"></span><span class="'+R("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")+'">';return P(a+"Error</span></span></div>")}
function M2d(){var a='<div class="'+R("waffle-dataconnector-pill-menuitem-editquery")+" "+R("waffle-dataconnector-pill-menuitem")+'">';var b=P('<svg class="waffle-dataconnector-edit-icon" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');a+=O(b);return P(a+
"Edit query</div>")}function N2d(a,b,c){b=c||b;a='<div class="'+R("waffle-dataconnector-pill-menuitem-viewerror")+" "+R("waffle-dataconnector-pill-menuitem")+'">'+O(J_d({color:"#000000"},b));return P(a+"View error</div>")}function O2d(a,b,c){b=c||b;a='<div class="'+R("waffle-dataconnector-pill-menuitem-bigquery-helpdoc")+" "+R("waffle-dataconnector-pill-menuitem")+'">'+O(L_d(null,b));return P(a+"Learn more about BigQuery</div>")};function P2d(a,b,c,d){ao.call(this,N(L2d),a,d);this.O=b;this.H=c;this.C=new Ys(void 0,jm(Xs,"waffle-dataconnector-pill-menuitem-refreshquery-info-button"),this.va());this.Ia(this.C);this.F=new Ys(void 0,jm(Xs,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"),this.va());this.Ia(this.F)}q(P2d,ao);p=P2d.prototype;
p.Ja=function(){ao.prototype.Ja.call(this);this.C.xb(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-button"));On(this.C,"Show the query info");this.C.Od("Show the query info");this.F.xb(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"));this.getHandler().V(this.C,"action",this.vxb).V(this.F,"action",this.OFb)};
p.Kg=function(a){if(a&&Ud(a.target)){var b=this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info");if(he(b,a.target))return!0}return ao.prototype.Kg.call(this,a)};p.refresh=function(a){L(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info"),a);a&&this.reset()};p.reset=function(){Q2d(this,"waffle-dataconnector-pill-menuitem-refreshquery-info-button")};p.OFb=function(a){a.stopPropagation();Cnb.hc()};
p.vxb=function(a){var b=this;a.stopPropagation();Q2d(this,"waffle-dataconnector-pill-menuitem-refreshquery-info-spinner");R2d(this).then(function(a){a=V(a,2);return S2d(b,a).then(function(a){a=V(V(a,5),1);a=o2d(a);var c=b.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-message");md(c,ed(a));Q2d(b,"waffle-dataconnector-pill-menuitem-refreshquery-info-message")},function(){return T2d(b)})},function(){return T2d(b)})};
function T2d(a){Q2d(a,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")}function R2d(a){var b=new w_d;W(b,1,a.O);return h0d(Y_d.getInstance(),b)}function S2d(a,b){var c=V(b,4);b=new i4;var d=new f4,e=V(c,1);W(d,1,e);c=c.xm();W(d,2,c);W(b,4,d);d=new p4;W(d,1,a.H);W(d,2,b);W(d,3,1);W(d,5,!0);return b0d(Y_d.getInstance(),d)}
function Q2d(a,b){["waffle-dataconnector-pill-menuitem-refreshquery-info-button","waffle-dataconnector-pill-menuitem-refreshquery-info-message","waffle-dataconnector-pill-menuitem-refreshquery-info-spinner","waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"].forEach(function(b){return L(a.Ka(b),!1)});L(a.Ka(b),!0);a.C.setVisible("waffle-dataconnector-pill-menuitem-refreshquery-info-button"==b);a.F.setVisible("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"==b)}
;function U2d(a,b,c,d){c=void 0===c?!1:c;mW.call(this,Ws(N_d,{opacity:.54}),new go(d),V2d.getInstance(),d);this.H=a;this.R=b;this.oa=c;this.F={};this.F["refresh-query"]=new P2d("refresh-query",this.H,this.R,this.va());this.yd(this.F["refresh-query"]);this.F["edit-query"]=new ao(N(M2d),"edit-query",this.va());this.yd(this.F["edit-query"]);this.F["view-error"]=new ao(N(N2d),"view-error",this.va());this.yd(this.F["view-error"]);this.F["menu-separator"]=new fo(this.va());this.yd(this.F["menu-separator"]);
this.F["bigquery-helpdoc"]=new ao(N(O2d),"bigquery-helpdoc",this.va());this.yd(this.F["bigquery-helpdoc"]);this.getHandler().V(this.zc(),"action",this.Ea)}q(U2d,mW);U2d.prototype.Ja=function(){mW.prototype.Ja.call(this);K(this.zc().getElement(),"waffle-dataconnector-pill-menu");Mtc(this,new ln(this.hb(),this.oa?4:0));this.Gw=!0};U2d.prototype.Ea=function(a){a=a.target.ob();(a=W2d[a])&&a.hc()};
U2d.prototype.refresh=function(a){var b=[];switch(a){case 2:b.push("edit-query");b.push("refresh-query");break;case 3:b.push("view-error")}if(a=3==ritz_api.DbxApi.getConnectionTypeForQuery(this.H))b.push("menu-separator"),b.push("bigquery-helpdoc");this.F["refresh-query"].refresh(a);a=ia(Object.values(this.F));for(var c=a.next();!c.done;c=a.next())c.value.setVisible(!1);b=ia(b);for(a=b.next();!a.done;a=b.next())this.F[a.value].setVisible(!0)};
U2d.prototype.Nd=function(a,b){if(a){var c=this.zc();if(c&&c.Wb()){c=ia(Object.values(this.F));for(var d=c.next();!d.done;d=c.next())d=d.value,d.reset&&d.reset()}}mW.prototype.Nd.call(this,a,b)};var X2d={},W2d=(X2d["bigquery-helpdoc"]=rnb,X2d["edit-query"]=unb,X2d["refresh-query"]=Bnb,X2d["view-error"]=Cnb,X2d);function V2d(){}q(V2d,f_c);V2d.prototype.Mp=function(a){return a.Da("DIV",{style:"display:none;"})};ua(V2d);function Y2d(a,b,c){b=c||b;a='<div class="'+R("waffle-dataconnector-pill")+'"><div class="'+R("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+R("waffle-dataconnector-pill-progress")+'"><div class="'+R("waffle-dataconnector-pill-spinner")+'"></div><span class="'+R("waffle-dataconnector-pill-progress-message")+'">';a=a+"Running query..."+(' </span><span class="'+R("waffle-dataconnector-pill-progress-timer")+'"></span></div><div class="'+R("waffle-dataconnector-pill-error")+'">'+O(J_d(null,
b)));a=a+"Execution error"+('</div><div class="'+R("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-pill-menu-button-wrapper")+'"></div></div>');return P(a)};function Z2d(a,b,c,d,e,f,h){f=void 0===f?!1:f;M.call(this,h);this.R=a;this.Ea=c;this.xa=d;this.J=f;this.ma=e;this.oa=new $2d;this.H=new rm(100);this.Ba(this.H);this.L=null;this.O=new Mm;this.Ba(this.O);this.F=new pU;this.Ia(this.F);this.F.Hd("waffle-dataconnector-pill-editquery-button");Qm(this.O,this.F,unb,Rm);this.C=new pU("Refresh");this.C.Hd("waffle-dataconnector-pill-refresh-button");this.Ia(this.C);this.D=new U2d(a,b,this.J,this.va());this.D.Hd("waffle-dataconnector-pill-menu-button");this.Ia(this.D)}
q(Z2d,M);p=Z2d.prototype;p.Da=function(){this.Nb(N(Y2d))};p.Ja=function(){M.prototype.Ja.call(this);this.F.render(this.Ka("waffle-dataconnector-pill-editquery-button-wrapper"));this.C.render(this.Ka("waffle-dataconnector-pill-refresh-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-pill-menu-button-wrapper"));this.getHandler().V(this.C,"action",this.Fub);this.refresh();this.kd()};p.Ha=function(){vm(this.L);M.prototype.Ha.call(this)};
p.kd=function(){this.xa.kd(this.hb(),this.J?5:1,new ll(0,this.J?50:0,12,this.J?0:50))};
p.refresh=function(){var a=T0d(this.ma,this.R),b=a?a.getState():2,c=vnb.isEnabled();switch(b){case 4:case 1:L(this.Ka("waffle-dataconnector-pill-timestamp"),!1);L(this.Ka("waffle-dataconnector-pill-progress"),!0);L(this.Ka("waffle-dataconnector-pill-error"),!1);$x(a,7)&&a3d(this,V(a,7));this.F.setVisible(!1);this.C.setVisible(!1);this.C.gb(!1);this.D.setVisible(!1);vm(this.L);break;case 2:L(this.Ka("waffle-dataconnector-pill-timestamp"),!0);L(this.Ka("waffle-dataconnector-pill-progress"),!1);L(this.Ka("waffle-dataconnector-pill-error"),
!1);b3d(this);c3d(this);this.F.setVisible(!1);this.C.setVisible(c);this.C.gb(c);this.D.setVisible(c);this.D.isVisible()&&this.D.refresh(b);break;case 3:L(this.Ka("waffle-dataconnector-pill-timestamp"),!1);L(this.Ka("waffle-dataconnector-pill-progress"),!1);L(this.Ka("waffle-dataconnector-pill-error"),!0);b3d(this);this.F.setVisible(c);this.C.setVisible(!1);this.C.gb(!1);this.D.setVisible(c);this.D.isVisible()&&this.D.refresh(b);c?vm(this.L):(L(this.Ka("waffle-dataconnector-pill-timestamp"),!0),L(this.Ka("waffle-dataconnector-pill-error"),
!1),c3d(this));break;default:XBc("Unrecognized execution state: "+b)}};function c3d(a){var b=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ea);if(!(0>=b)){var c="Updated "+a.oa.format(b),d=a.Ka("waffle-dataconnector-pill-timestamp");le(d,c);d3d(a,b)}}p.Fub=function(){this.C.gb(!1);Bnb.hc()};function a3d(a,b){if(!a.H.enabled){var c=(Da()-b)/1E3,d=a.Ka("waffle-dataconnector-pill-progress-timer");le(d,c.toFixed(1)+"s");a.H.V("tick",function(){c=(Da()-b)/1E3;le(d,c.toFixed(1)+"s")});a.H.start()}}
function b3d(a){a.H.stop();a.H.ez()}function d3d(a,b){b=new Date(b);b.toDateString()==(new Date).toDateString()&&(b=86400-3600*b.getHours()-60*b.getMinutes()-b.getSeconds(),a.L=um(function(){return c3d(a)},1E3*(b+1)))}function e3d(a){b3d(a);a=a.Ka("waffle-dataconnector-pill-progress-timer");le(a,"")}function $2d(){this.C=new Ku(1);this.D=new Ku(Nu.MONTH_DAY_MEDIUM);this.F=new Ku(7)}
$2d.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function f3d(a,b,c,d,e){B.call(this);this.D=a;this.H=b;this.L=c;this.F=d;this.J=e;this.Wa=new il(this);this.Ba(this.Wa);this.C=null;this.Wa.V(this.L,"G",this.LFb).V(this.D,"ra",this.MFb).V(this.D,"sa",this.NFb).V(this.F,"db-execution-status-updated",this.KFb).V(this.D,"Ka",this.refresh).V(this.F,"offline_status",this.trb)}q(f3d,B);p=f3d.prototype;p.Ha=function(){B.prototype.Ha.call(this);C(this.C)};p.refresh=function(){g3d(this)};p.LFb=function(){this.C&&this.C.kd()};p.MFb=function(){g3d(this)};
p.NFb=function(){C(this.C);this.C=null};function g3d(a){var b=a.D.C.C;if(b&&dI(b))if(a.C)a.C.refresh();else{var c=DG(a.H);if(c){b=c.ue();c=new ln(c.Ga.J,b?5:1);var d=a.D.C.C,e=d.H,f=V(e,1);e=V(e,2);d=d.Lb();a.C=new Z2d(f,e,d,c,a.J,b);a.C.render();a.F.Vg()&&e3d(a.C)}}}p.KFb=function(a){a.D&&0!=a.D.length&&this.C&&$a(a.D,this.C.R)&&this.C.refresh()};p.trb=function(a){"none"!=a.C&&this.C&&e3d(this.C)};function h3d(a,b,c,d){B.call(this);this.ma=a;this.oa=b;this.xa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.R=new i3d;this.F=this.H=null}q(h3d,B);p=h3d.prototype;p.getId=function(){return Ba(this)};p.Ha=function(){this.stop();B.prototype.Ha.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.Exa(this.ma)};p.stop=function(){2==this.C&&(this.C=3,this.R.stop())};function j3d(a,b){a.L=b;return a}function k3d(a,b){a.J=b;return a}function l3d(a,b){a.O=b;return a}
p.Exa=function(a){var b=this;this.oa.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.xa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.R;c=w(b.Exa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=um(c,e);a=!0}a||m3d(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&m3d(b,a)})};function m3d(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.QI=g("F");function i3d(){this.D=this.F=0;this.C=null}i3d.prototype.stop=function(){this.D=this.F=0;vm(this.C);this.C=null};function n3d(a){this.C=a}function o3d(a,b){var c=V(b,2);return new h3d(b,function(b){return b0d(a.C,b)},function(a){if(1==a.Tj().getState()){var b=new p4;W(b,2,c);b.setToken(a.Tj().getToken());return b}return null})};function p3d(){return P('<div class="'+R("waffle-dataconnector-queryeditor-content")+'"><div class="'+R("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+R("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+R("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+R("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+R("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function q3d(a,b,c,d,e,f,h,k){I4.call(this,f,h);var l=this;ts(this,"Query Editor");A0d(this);this.Fc=a;this.C=b;this.Ia(this.C);this.Ea=c;this.Sc=d;this.Tb=e;this.J=this.va().Da("CANVAS");cM(this.J);this.xa=bM(this.J);this.Kb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Kb,this.xa,this.Tb.D,this.Tb.C);dM(this.J,this.xa,800,243);r3d(this);y0d(this,this.Ea,function(){return l.Sc(s3d(l.C))});z0d(this);this.Xc=new hy;this.O=null;this.bb=!1;this.Mb=k||new k2d;
this.Ba(this.Mb);this.R=!1;this.mc=new t3d(this);this.Ba(this.mc)}q(q3d,I4);p=q3d.prototype;p.Da=function(){I4.prototype.Da.call(this);Vs(this.Vb(),p3d)};
p.Ja=function(){var a=this;I4.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-queryeditor-editor-pane"));Qm(this.sb,this.C.L,mD,Rm,function(){return u3d(a)});this.getHandler().V(this.C,"df",this.Zoa);var b=this.Ka("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);K(b,"native-scrollbar");K(b,"native-scrollbar-ltr");v3d(this,!1);B0d(this);this.Zoa();w3d(this.C,"Only users with edit access can view and edit the query")};
p.Ha=function(){I4.prototype.Ha.call(this);delete this.Kb;delete this.F};p.jKa=function(){this.R=!0;L(this.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);B0d(this);E0d(this,"Executing query");x3d(this)};
p.fKa=function(a,b){this.R=!1;this.O=b;this.bb=y3d(a);z3d(this,a);a=V(a,2);a=this.Xc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;dM(this.J,this.xa,e,f);r3d(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);A3d(this,!1);x3d(this);w3d(this.C,"All users with view access can view query results in the workbook.");v3d(this,!0)};function z3d(a,b){var c=0;a.L.F||(E0d(a,"Executing query",100),c=1500);um(function(){if(!a.isDisposed()){B0d(a);B3d(a);var c=ed(n2d(b,a.bb));y3d(b)?C0d(a,c):D0d(a,c)}},c)}
p.eKa=function(a){a=a.Tj();E0d(this,"Executing query",V(a,5))};p.dKa=function(a){this.R=!1;B0d(this);C3d(this,a);this.Zoa()};function D3d(a){var b="waffle-dataconnector-ssologin-"+Xb(),c=i1d(b);C0d(a,c);(b=Jd(b))&&a.getHandler().V(b,"click",function(){return E3d(a)})}function E3d(a){l2d(a.Mb,function(){mD.hc(u3d(a))})}
function B3d(a){var b=s3d(a.C);if(b&&a.O&&!b.equals(a.O)){b=new Dr;var c="This preview is out of date."+(b.Ce("br")+"Please re-run your query.");b=b.format(c);A3d(a,!0);md(a.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else A3d(a,!1)}p.Zoa=function(){B3d(this);x3d(this)};
function x3d(a){var b=s3d(a.C);if(a.R||null==b)a.Ea.gb(!1),mD.gb(!1);else{mD.gb(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.bb;a.Ea.gb(!c||b&&!d)}}function A3d(a,b){fl(a.Ka("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Nla=function(){this.R=!0;B0d(this);E0d(this,"Updating workbook");x3d(this)};p.Lla=function(a){this.R=!1;B0d(this);C3d(this,a);x3d(this)};function C3d(a,b){b=b.Tj();10==b.getErrorCode()?D3d(a):C0d(a,c1d(2,b))}
function u3d(a){var b=new p4;W(b,1,a.Fc);a=s3d(a.C);W(b,2,a);W(b,3,30);return b}function r3d(a){a.xa.fillStyle="#f3f3f3";a.xa.fillRect(0,0,a.J.width,a.J.height)}function v3d(a,b){b!=Ul(a.Ka("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.mc.play():L(a.Ka("waffle-dataconnector-queryeditor-preview-pane"),!1))}function y3d(a){return 1E4<V(a,3)||!!V(a,4)}function F3d(a){M.apply(this,arguments)}q(F3d,M);
function w3d(a,b){var c=I(H(),"docs-idu");c&&(b+=" ");var d=a.Ka("waffle-dataconnector-queryeditor-sharing-message");Zd(d);b=a.va().Da("SPAN",void 0,b);d.appendChild(b);c&&(a=a.va().Da("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function t3d(a){Bu.call(this,[0],[1],350);this.F=a}q(t3d,Bu);t3d.prototype.VQ=function(){var a=this.F.Ka("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);Pl(a,0)};
t3d.prototype.OY=function(){var a=this.hk,b=this.F.Ka("waffle-dataconnector-queryeditor-preview-pane");Pl(b,243*a);this.F.kd()};function G3d(){var a='<div class="'+R("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+R("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"><div class="'+R("waffle-dataconnector-bigquery-query-settings-widget-project-section-header")+'">';return P(a+"Billing project</div></div></div>")};function H3d(a,b,c){b=c||b;a='<div class="'+R("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(Zt({icon:ct("docs-icon-img docs-icon-settings")},b))+'<span class="'+R("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Query Settings</span></div>")};function I3d(a,b){J4.call(this,N(H3d),b);this.F=a.C;this.H=a.D;this.C=new oW;On(this.C,"Billing project");this.Ia(this.C)}q(I3d,J4);function J3d(a){a=a.C.Ue();return null==a?null:a.getValue()}
I3d.prototype.Da=function(){J4.prototype.Da.call(this);this.setContent(N(G3d));var a=this.Ka("waffle-dataconnector-bigquery-query-settings-widget-project-section");this.C.render(a);if(0==this.F.length){var b=this.va();b.appendChild(a,b.Da("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert",N(J_d),"No billing projects"));b.appendChild(a,b.Da("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert-description","Configure a project in the Google Cloud Platform console to continue"))}};
I3d.prototype.Ja=function(){var a=this;J4.prototype.Ja.call(this);this.getHandler().V(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("ef")});K3d(this,this.F,this.H);this.Nd(!0);this.C.ep();this.Nd(!1)};function K3d(a,b,c){if(0==b.length)a.C.gb(!1),a.C.setVisible(!1);else{for(var d=null,e=0;e<b.length;e++){var f=b[e];a.C.yd(new ao(f.getName(),f));null!=c&&f.getId()==c&&(d=e)}null!==d?a.C.We(d):At(a.C,null)}};function L3d(a,b){this.C=a;this.D=b}function M3d(a,b){var c=new p4;W(c,1,a.C);W(c,2,b);W(c,3,1);W(c,5,!0);return b0d(a.D,c).then(aa(),function(a){return a instanceof q4?df(a):ef(a)})};function N3d(a,b,c){b=c||b;return P('<div class="'+R("waffle-dataconnector-bigquery-query-validation-widget")+'"><div class="'+R("waffle-dataconnector-bigquery-query-validation-widget-open-button")+'">'+O(P_d())+O(K_d(null,b))+O(O_d())+'</div><div class="'+R("waffle-dataconnector-bigquery-query-validation-widget-bar")+'">'+O(P_d())+O(K_d(null,b))+O(O_d())+'<div class="'+R("waffle-dataconnector-bigquery-query-validation-widget-message")+'" aria-live="polite"></div><div class="'+R("waffle-dataconnector-bigquery-query-validation-widget-close-button")+
'">'+O(H_d(null,b))+"</div></div></div>")};function O3d(a,b){M.call(this,b);this.J=a;this.H=-1;this.C=new Ys(void 0,jm(Xs,"waffle-dataconnector-bigquery-query-validation-widget-close-button"),this.va());this.Ia(this.C);this.D=new Ys(void 0,jm(Xs,"waffle-dataconnector-bigquery-query-validation-widget-open-button"),this.va());this.Ia(this.D);this.F=!1}q(O3d,M);O3d.prototype.Da=function(){this.Nb(N(N3d));this.C.xb(this.Ka("waffle-dataconnector-bigquery-query-validation-widget-close-button"));this.D.xb(this.Ka("waffle-dataconnector-bigquery-query-validation-widget-open-button"))};
O3d.prototype.Ja=function(){var a=this;M.prototype.Ja.call(this);fl(this.hb(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F);On(this.C,"Close the query validation widget");this.C.Od("Close the query validation widget");this.getHandler().V(this.C,"action",function(){return a.setVisible(!1)}).V(this.D,"action",function(){return a.setVisible(!0)});P3d(this)};
O3d.prototype.setVisible=function(a){this.F=a;this.Wb()&&fl(this.hb(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F)};
function Q3d(a,b){var c=Da();a.H=c;null==b?P3d(a):M3d(a.J,b).then(function(b){if(c==a.H&&!a.isDisposed()){var d=b.Tj(),f=3!=d.getState();f?(b=V(V(b,5),1),b="Query valid. "+o2d(b),d="Query is valid. Click for more detail."):(b=c1d(3,d),d="Query is invalid. Click for more detail.");var h=a.Ka("waffle-dataconnector-bigquery-query-validation-widget-message");md(h,ed(b));fl(a.hb(),"waffle-dataconnector-bigquery-query-validation-widget-valid",f);fl(a.hb(),"waffle-dataconnector-bigquery-query-validation-widget-invalid",
!f);On(a.D,d);a.D.Od(d)}},ba())}function P3d(a){var b=a.Ka("waffle-dataconnector-bigquery-query-validation-widget-message");md(b,ed("Validation messages for your query are shown here"));dl(a.hb(),"waffle-dataconnector-bigquery-query-validation-widget-valid");dl(a.hb(),"waffle-dataconnector-bigquery-query-validation-widget-invalid");On(a.D,"Show the query validation widget");a.D.Od("Show the query validation widget")};function R3d(a,b,c){b=c||b;b="<div id="+xU(a.id)+' class="'+R("waffle-dataconnector-dbschematreenode")+'" role="option"><div class="'+R("waffle-dataconnector-dbschematreenode-label")+(a.xc?" waffle-dataconnector-dbschematreenode-rtl":"")+'"><div class="'+R("waffle-dataconnector-dbschematreenode-spinner-container")+'">'+O(g_c({gc:!0},b))+"</div>";c=P('<svg class="waffle-dataconnector-expand-icon" width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><polygon id="Shape" points="0 0 18 0 18 18 0 18"></polygon><polygon id="Shape" fill-opacity="0.87" fill="#000000" points="5 7 9 11 13 7"></polygon></g></g></svg>');
a=b+O(c)+'<div class="'+R("waffle-dataconnector-dbschematreenode-title")+'">'+O(a.title)+'</div></div><div class="'+R("waffle-dataconnector-dbschematreenode-child-container")+'" role="group"></div></div>';return P(a)};function S3d(a){this.C=a}S3d.prototype.getType=g("C");function T3d(a){this.C="cloud-project";this.D=a}q(T3d,S3d);T3d.prototype.xm=g("D");function U3d(a,b){this.C="bigquery-dataset";this.D=b;this.F=a}q(U3d,S3d);U3d.prototype.xm=g("D");function V3d(a,b,c){this.C="bigquery-table";this.D=c;this.F=b;this.H=a}q(V3d,S3d);V3d.prototype.xm=g("D");function W3d(a){this.C="jdbc-table";this.D=a}q(W3d,S3d);function X3d(){this.C="column"}q(X3d,S3d);function O4(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Ic(b);this.J=a;this.nextSibling=this.previousSibling=this.parentNode=null;this.H=(this.D=c)?2:0;this.F=this.C=!1}q(O4,M);p=O4.prototype;p.Da=function(){this.Nb(N(R3d,{title:this.J,id:this.getId()}))};p.Vb=function(){return this.Ib("waffle-dataconnector-dbschematreenode-child-container")};
p.Ja=function(){M.prototype.Ja.call(this);var a=this.Ka("waffle-dataconnector-dbschematreenode-label"),b=this.Ka("waffle-dataconnector-dbschematreenode-title");a.id=this.getId()+"-label";Wk(this.hb(),"labelledby",a.id);this.D||Wk(this.hb(),"expanded",this.C);Wk(this.hb(),"selected",this.F);Vk(this.Ka("waffle-dataconnector-dbschematreenode-spinner-container"),"presentation");Vk(this.Ka("waffle-dataconnector-expand-icon"),"presentation");fl(this.hb(),"waffle-dataconnector-dbschematreenode-rtl",this.ue());
kva(this.va());Lm(b,this.J,void 0);Y3d(this,!1);fl(this.hb(),"waffle-dataconnector-dbschematreenode-leaf",this.D);this.getHandler().V(a,"click",this.QFb)};p.getTitle=g("J");p.QFb=function(){this.Nd(!this.C);this.yc(!0)};p.Nd=function(a){if(!this.D&&a!=this.C){var b=Gua(64,a);this.dispatchEvent(b)&&Y3d(this,a)}};function Z3d(a){var b=a.dd();if(!a.C||0==b)return a;a=a.Zc(b-1);return Z3d(a)}
function $3d(a,b){b=void 0===b?!1:b;var c=a.Zc(0);return!b&&a.C&&c?c:a.nextSibling?a.nextSibling:a.parentNode?$3d(a.parentNode,!0):null}function Y3d(a,b){a.D||(a.C=b,a.Wb()&&(fl(a.hb(),"waffle-dataconnector-dbschematreenode-open",a.C),Wk(a.hb(),"expanded",a.C)))}p.yc=function(a){if(a!=this.F){var b=Gua(8,a);this.dispatchEvent(b)&&(this.F=a,this.Wb()&&(fl(this.hb(),"waffle-dataconnector-dbschematreenode-selected",this.F),Wk(this.hb(),"selected",a)))}};
function a4d(a,b){a.H=b;b=1==a.H;a.Wb()&&fl(a.hb(),"waffle-dataconnector-dbschematreenode-loading",b)}p.Lu=g("H");p.Ic=function(a){M.prototype.Ic.call(this,a)};p.ob=function(){return M.prototype.ob.call(this)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Zc=function(a){return M.prototype.Zc.call(this,a)};p.Ia=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Ia.call(this,a,b)};
function b4d(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}p.Xf=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Zc(b-1),e=this.Zc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Xf.call(this,a,b,c)};p.removeChild=function(a,b){b4d(a);return M.prototype.removeChild.call(this,a,b)};
p.Ed=function(){return M.prototype.Ed.call(this,!0)};p.Mn=function(a){return M.prototype.Mn.call(this,a,!0)};function c4d(a){M.call(this,a);this.C=new d4d(this.va());this.Ia(this.C,!0);this.D=null;this.getHandler().V(this.C,"open",this.drb).V(this.C,"select",this.erb)}q(c4d,M);p=c4d.prototype;p.Da=function(){this.Nb(this.va().Da("DIV","waffle-dataconnector-schema-menu"))};p.Ja=function(){M.prototype.Ja.call(this);this.getHandler().V(this.C.hb(),"keydown",this.wob).V(this.C.hb(),"focus",this.wzb)};p.drb=function(a){var b=a.target;2!=b.Lu()&&a.preventDefault();0==b.Lu()&&e4d(this,b).then(function(a){a.Nd(!0)})};
p.erb=function(a){a=a.target;this.D&&this.D.yc(!1);this.D=a;this.C.hb().setAttribute("aria-activedescendant",a.getId())};function e4d(a,b){a=a.H(b).then(function(a){return f4d(b,a)},function(){return a4d(b,0)});a4d(b,1);return a}function g4d(a){var b=[];a.C.jf(function(a){b.push(a)});return b}function f4d(a,b){if(a.isDisposed())return xb(b),ef();b.forEach(function(b){a.Ia(b,!0)});a4d(a,2);return df(a)}
p.wob=function(a){switch(a.keyCode){case 36:h4d(this);break;case 35:(a=this.C.Zc(this.C.dd()-1))&&Z3d(a).yc(!0);break;case 13:a=this.D;a.Nd(!a.C);break;case 37:a=this.D;a.C?a.Nd(!1):(a=a.parentNode)&&a.yc(!0);break;case 39:i4d(this);break;case 38:a=this.D;(a=a.previousSibling?Z3d(a.previousSibling):a.parentNode)&&a.yc(!0);break;case 40:(a=$3d(this.D))&&a.yc(!0)}};function h4d(a){(a=a.C.Zc(0))&&a.yc(!0)}
function i4d(a){function b(a){a.Nd(!0);(a=a.Zc(0))&&a.yc(!0)}var c=a.D;switch(c.Lu()){case 2:b(c);break;case 0:e4d(a,c).then(function(a){b(a)})}}p.wzb=function(){this.D||h4d(this)};function d4d(a){M.apply(this,arguments)}q(d4d,M);p=d4d.prototype;p.Da=function(){var a=this.va().Da("DIV",{"class":"waffle-dataconnector-schema-menu-tree-container",tabIndex:0});Vk(a,"tree");this.Nb(a)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Zc=function(a){return M.prototype.Zc.call(this,a)};
p.Xf=function(a,b,c){var d=this.Zc(b-1),e=this.Zc(b);a.parentNode=null;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Xf.call(this,a,b,c)};p.removeChild=function(a,b){b4d(a);return M.prototype.removeChild.call(this,a,b)};function j4d(a,b){c4d.call(this,b);this.F=a}q(j4d,c4d);function k4d(a,b){var c=!0;c=void 0===c?!1:c;var d=b.getId();a:{var e=g4d(a);e=ia(e);for(var f=e.next();!f.done;f=e.next())if(f.value.ob().xm()==d){e=!0;break a}e=!1}e||(b=b.getName(),d=new O4(b,new T3d(d)),a.C.Ia(d,!0),c&&d.Nd(!0))}j4d.prototype.H=function(a){a=a.ob();switch(a.getType()){case "cloud-project":return l4d(this,a);case "bigquery-dataset":return m4d(this,a);case "bigquery-table":return n4d(this,a);default:return a.getType(),ef()}};
function l4d(a,b){var c=b.xm();return n0d(a.F,c).then(function(a){return o4d(a,c)})}function m4d(a,b){var c=b.F,d=b.xm();return l0d(a.F,d,c).then(function(a){return p4d(a,d,c)})}function n4d(a,b){var c=new w4;c.Ie(b.H);W(c,2,b.F);g_d(c,b.xm());return m0d(a.F,c).then(function(a){return q4d(a)})}function o4d(a,b){return a.map(function(a){return new O4(a,new U3d(a,b))})}function p4d(a,b,c){return a.map(function(a){a=a.getName();return new O4(a,new V3d(a,c,b))})}
function q4d(a){return a.map(function(a){return new O4(a,new X3d(a),!0)})};function r4d(a){var b=P,c='<div class="'+R("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+O(d)+"<div>"+O(a.title)+"</div></div>")};function s4d(a,b){J4.call(this,N(r4d,{title:"Schema"}),b);this.C=a;this.Ia(this.C,!0)}q(s4d,J4);function t4d(a,b,c,d,e,f,h,k,l,m){N4.call(this,b,c,d,e,f,l,m);var r=this;V_d(this,this.va().Da("SPAN",void 0,N(L_d),"BigQuery query editor"));this.R=new I3d(a,this.va());this.L.Xf(this.R,0,!0);this.Kb=new j4d(h,this.va());this.Yb=new s4d(this.Kb);this.L.Ia(this.Yb,!0);this.Tb=new O3d(k,this.va());this.Ia(this.Tb);this.Ad=new xm(function(){Q3d(r.Tb,s2d(r))},600,this)}q(t4d,N4);p=t4d.prototype;
p.Ja=function(){N4.prototype.Ja.call(this);this.Tb.render(this.Ka("waffle-dataconnector-newqueryeditor-editor-pane"));this.getHandler().V(this.R,"ef",this.Ltb);this.Yb.Nd(!0);var a=J3d(this.R);a&&k4d(this.Kb,a)};p.hga=function(){var a=p1d(this.D),b=J3d(this.R);if(!a||!b)return null;b=new f4;var c=J3d(this.R).getId();W(b,1,a);W(b,2,c);a=new i4;W(a,4,b);return a};
p.ska=function(a){if(a){var b=V(a,4);q1d(this.D,V(b,1));a:{a=this.R;b=b.xm();for(var c=a.C.Zh(),d=0;d<c;d++)if(a.C.Te(d).getValue().getId()==b){a.C.We(d);break a}}}else q1d(this.D,"");this.D.gb(!0)};p.QQ=function(){N4.prototype.QQ.call(this);this.Ad.start()};p.qK=n(3);p.Ltb=function(){var a=J3d(this.R);a&&k4d(this.Kb,a)};function u4d(a){var b='<div class="'+R("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+R("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+R("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+R("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.RM)+"</div></div></div>");return P(b)};function v4d(a,b){J4.call(this,N(H3d),b);this.C=a}q(v4d,J4);v4d.prototype.Da=function(){J4.prototype.Da.call(this);this.setContent(N(u4d,{RM:this.C}))};function w4d(a,b){this.C=a;this.D=b}function x4d(a){var b=new u4;W(b,1,a.C);return f0d(a.D,b).then(function(a){return dy(a,4)})}function y4d(a,b){var c=new m_d;W(c,1,a.C);W(c,2,b);return g0d(a.D,c).then(function(a){return dy(a,4)})};function z4d(a,b){c4d.call(this,b);this.F=a}q(z4d,c4d);function A4d(a){x4d(a.F).then(function(b){b.forEach(function(b){b=b.getName();b=new O4(b,new W3d(b));a.C.Ia(b,!0)})},ba())}z4d.prototype.H=function(a){a=a.ob();switch(a.getType()){case "jdbc-table":return B4d(this,a);default:return a.getType(),ef()}};function B4d(a,b){var c=new w4;c.Ie(b.D);return y4d(a.F,c).then(function(a){return C4d(a)})}function C4d(a){return a.map(function(a){return new O4(a,new X3d(a),!0)})};function D4d(a,b,c,d,e,f,h,k,l){N4.call(this,a,c,d,e,f,k,l);V_d(this,"Jdbc query editor");this.Tb=new v4d(b);this.L.Xf(this.Tb,0,!0);this.R=new z4d(h,this.va());A4d(this.R);this.Kb=new s4d(this.R,this.va());this.L.Ia(this.Kb,!0)}q(D4d,N4);D4d.prototype.Ja=function(){N4.prototype.Ja.call(this);this.Kb.Nd(!0)};D4d.prototype.hga=function(){var a=p1d(this.D);if(!a)return null;var b=new i4;W(b,1,a);return b};D4d.prototype.ska=function(a){a=a?V(a,1):"";q1d(this.D,a);this.D.gb(!0)};D4d.prototype.qK=n(1);function E4d(){var a='<div class="'+R("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+R("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+R("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+R("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+R("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+R("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function F4d(a){J4.call(this,N(H3d),a);this.H="";this.F=new C1d(this.H);this.Ia(this.F);this.F.C.Od("Click to open the Plx script editor");this.F.D.Od("Unlink this Plx script");this.J=new oU("Add existing script");this.Ia(this.J);this.J.Hd("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new BW;this.C.setContent("Engine");a=ia(lc(G4d));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.yd(new ao(b.caption,b.value));this.C.We(0);this.Ia(this.C);this.O=new Xp;this.Ba(this.O)}
q(F4d,J4);F4d.prototype.Da=function(){J4.prototype.Da.call(this);this.setContent(N(E4d));this.C.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.F.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-script-section"));this.J.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
F4d.prototype.Ja=function(){var a=this;J4.prototype.Ja.call(this);this.getHandler().V(this.J,"action",function(b){b.stopPropagation();a.dispatchEvent("ff")}).V(this.F,"Ve",function(b){b.stopPropagation();a.dispatchEvent("hf")}).V(this.F,"Ue",function(b){b.stopPropagation();Fr(GZd(a.H),{target:"_blank"})}).V(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("jf")});this.Nd(!0);this.C.ep();this.Nd(!1);H4d(this)};
function H4d(a){var b=!!a.H;b&&a.F.setContent(a.H);a.F.setVisible(b);a.J.setVisible(!b);a.J.gb(!b);a.C.gb(!b)}var I4d=Object.freeze({caption:"Dremel",value:"DREMEL"}),J4d=Object.freeze({caption:"F1",value:"F1"}),K4d=Object.freeze({caption:"Procella",value:"PROCELLA"}),G4d={VSa:I4d,lTa:J4d,NVa:K4d};function L4d(a,b,c){H4.call(this,b,c);this.F=a?new TZc:new iW;this.Ia(this.F);this.F.Hd("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Hd("waffle-dataconnector-simple-text-input-prompt-add-button")}q(L4d,H4);L4d.prototype.Da=function(){H4.prototype.Da.call(this);var a=this.va().Da("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");Yd(this.Vb(),a);this.F.render(a)};L4d.prototype.jb=function(a){this.F.jb(a)};
L4d.prototype.Ja=function(){var a=this;H4.prototype.Ja.call(this);this.getHandler().V(this.C,"action",function(){var b=a.F.getValue();""!=b&&a.resolve(b)})};function M4d(a,b,c,d,e,f,h){N4.call(this,a,b,c,d,e,f,h);V_d(this,this.va().Da("SPAN",void 0,N(M_d),"Plx query editor"));this.R=new F4d(this.va());this.L.Xf(this.R,0,!0)}q(M4d,N4);p=M4d.prototype;p.Ja=function(){N4.prototype.Ja.call(this);this.getHandler().V(this.R,"ff",this.uJb).V(this.R,"hf",this.TFb)};p.hga=function(){var a=p1d(this.D),b=this.R.H;if(!a&&!b)return null;var c=new i4,d=new e4;b?W(d,3,b):(W(d,1,a),a=this.R.C.Ue().getValue(),W(d,2,a));W(c,2,d);return c};
p.ska=function(a){this.D.gb(!0);if(a){var b=V(a,2);a=V(b,1);var c=V(b,2);b=V(b,3);if(c)try{a:{for(var d=this.R,e=d.C.Zh(),f=0;f<e;f++)if(d.C.Te(f).getValue()==c){d.C.We(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&N4d(this,b);a&&q1d(this.D,a)}else q1d(this.D,"")};p.qK=n(2);
p.uJb=function(){var a=this,b=this.R.H,c=new L4d("Script ID");ts(c,"Add existing script");c.C.setContent("Add");c.jb(b);this.Ba(c);c.setVisible(!0);hf(c.getResult(),function(){return C(c)}).then(function(b){return N4d(a,b)},ba())};
function N4d(a,b){if(!a.isDisposed()){var c=a.R;c.H=b||"";H4d(c);c=a.D;if(b){c.gb(!1);var d=new Dr;var e=d.Ce("a",{href:GZd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.He("a");d=d.format(e);md(c.Ka("waffle-dataconnector-textarea-editor-overlay-message"),d);c.gb(!1);n1d(c,!0)}else c.gb(!0),n1d(c,!1);OC(b?"Script added":"Script removed");a.QQ()}}p.TFb=function(){N4d(this,null)};function O4d(){}q(O4d,Xs);O4d.prototype.Da=function(a){a=a.va().Da("DIV","waffle-dataconnector-close-badge");Vs(a,H_d);return a};O4d.prototype.rc=n("waffle-dataconnector-close-badge");ua(O4d);function P4d(){Ys.call(this,void 0,O4d.getInstance())}q(P4d,Ys);function Q4d(){return P('<div class="'+R("waffle-dataconnector-linked-script-chip")+'"><div class="'+R("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+R("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function R4d(a,b){M.call(this,b);this.D=a;this.C=new P4d;On(this.C,"Remove script");this.Ia(this.C)}q(R4d,M);R4d.prototype.Da=function(){this.Nb(N(Q4d));var a=this.Ka("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.va().Da("A",{href:GZd(b),target:"_blank"},b);a.appendChild(b)};
R4d.prototype.Ja=function(){var a=this;M.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked plx script: "+this.D;$k(this.Ka("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().V(this.C,"action",function(){return a.dispatchEvent("kf")})};function S4d(){var a=P,b='<div class="'+R("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+R("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+R("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+R("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+R("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+R("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+R("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+R("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+R("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+R("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function T4d(){var a='<div class="'+R("waffle-dataconnector-sqleditor")+'"><div class="'+R("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+R("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+R("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+R("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=gt("Enter your query");a+='"></textarea><div class="'+R("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function U4d(a,b){a=void 0===a?"":a;M.call(this,b);this.$d=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new pW;this.Ia(this.H)}q(U4d,M);U4d.prototype.Da=function(){this.Nb(N(T4d))};
U4d.prototype.Ja=function(){var a=this;M.prototype.Ja.call(this);this.C=this.Ka("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new Xt(this.C);this.Ba(this.F);this.F.Pd(this);this.getHandler().V(this.C,"focus",function(){return V4d(a,!0)}).V(this.C,"blur",function(){return V4d(a,!1)});this.H.render(this.Ka("waffle-dataconnector-sqleditor-textareawrapper"));W4d(this);X4d(this,!1)};
function W4d(a){a.C.disabled=!a.$d||a.D;fl(a.hb(),"waffle-dataconnector-sqleditor-disabled",!a.$d||a.D);qW(a.H,a.D)}U4d.prototype.gb=function(a){this.D||a==this.$d||(this.$d=a,this.Wb()&&W4d(this))};U4d.prototype.isEnabled=g("$d");function Y4d(a){a.D=!0;a.Wb()&&W4d(a)}function X4d(a,b){L(a.Ka("waffle-dataconnector-sqleditor-overlay"),b)}function V4d(a,b){fl(a.hb(),"waffle-dataconnector-sqleditor-focused",b)};function Z4d(a,b,c){F3d.call(this,c);var d=this;this.H=this.J=null;this.F=new oU("Add existing script");this.Ia(this.F);this.D=new BW;this.D.setContent("Engine");$4d(this);this.D.We(0);this.Ia(this.D);this.C=new U4d(void 0,this.va());this.Ia(this.C);this.L=new oU;this.L.Hd("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Ia(this.L);this.O=new xm(function(){a5d(d,null)});this.Ba(this.O);b&&(this.F.gb(!1),Y4d(this.C),hf(b.then(function(a){var b=V(a,2),c=V(b,1);a=V(b,3);b=V(b,2);var e=
d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Wb()?(e.C.value=c,W4d(e)):e.J=c);a5d(d,a);b&&d.D.jb(b);d.F.gb(!0)},ba()),function(){d.dispatchEvent("df")}))}q(Z4d,F3d);Z4d.prototype.Da=function(){this.Nb(N(S4d))};
Z4d.prototype.Ja=function(){var a=this;F3d.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.Ka("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().V(this.C,"input",function(){a.dispatchEvent("df")}).V(this.F,"action",
function(){return b5d(a)}).V(this,"kf",function(){a.O.start()}).V(this.D,"aftershow",function(a){return a.stopPropagation()})};function s3d(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new i4,d=new e4;a.J?W(d,3,a.J):(W(d,1,b),a=a.D.Ue().getValue(),W(d,2,a));W(c,2,d);return c}function $4d(a){for(var b=ia(lc(c5d)),c=b.next();!c.done;c=b.next())c=c.value,a.D.yd(new ao(c.caption,c.value))}
function b5d(a){var b=new L4d("Script ID");ts(b,"Add existing script");b.C.setContent("Add");a.Ba(b);b.setVisible(!0);hf(hf(b.getResult(),function(){return C(b)}).then(function(b){return a5d(a,b)},ba()),function(){(null!=a.J?a.H.hb():a.D.hb()).focus()})}
function a5d(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.gb(!c);a.D.gb(!c);a.F.setVisible(!c);a.F.gb(!c);C(a.H);a.H=null;if(b){a.H=new R4d(b);a.Ia(a.H);a.H.render(a.Ka("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new Dr;var d=c.Ce("a",{href:GZd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.He("a");c=c.format(d);a.C.gb(!1);d=a.C;md(d.Ka("waffle-dataconnector-sqleditor-overlay-message"),c);X4d(d,!0)}else a.C.gb(!0),X4d(a.C,!1);OC(b?"Script added":
"Script removed");a.dispatchEvent("df")}}var d5d=Object.freeze({caption:"Dremel",value:"DREMEL"}),e5d=Object.freeze({caption:"F1",value:"F1"}),f5d=Object.freeze({caption:"Procella",value:"PROCELLA"}),c5d={VSa:d5d,lTa:e5d,NVa:f5d};function g5d(a,b,c){this.C=a;this.D=b;this.Db=new Hd;this.F=c}function h5d(a,b,c){return new D4d(b,c,kD,function(a){return i5d(b,a)},new M4(a.C,a.Db),a.F,new w4d(b,a.D),void 0,a.Db)}function j5d(a,b,c,d,e,f){a=new D4d(b,c,lD,function(a){return k5d(d,a)},new M4(a.C,a.Db),a.F,new w4d(b,a.D),void 0,a.Db);p2d(a,e,f);return a}
function l5d(a,b){if(I(H(),"fenqeu"))return new M4d(b,kD,function(a){return i5d(b,a)},new M4(a.C,a.Db),a.F,void 0,a.Db);var c=new Z4d(b,void 0,a.Db);return new q3d(b,c,kD,function(a){return i5d(b,a)},a.C,void 0,a.Db)}function m5d(a,b,c,d,e){if(I(H(),"fenqeu"))return a=new M4d(b,lD,function(a){return k5d(c,a)},new M4(a.C,a.Db),a.F,void 0,a.Db),p2d(a,d,e),a;d=new Z4d(b,d,a.Db);return new q3d(b,d,lD,function(a){return k5d(c,a)},a.C,void 0,a.Db)}
function n5d(a,b,c){return new t4d(c,b,kD,function(a){return i5d(b,a)},new M4(a.C,a.Db),a.F,new k0d(a.D,b),new L3d(b,a.D),void 0,a.Db)}function o5d(a,b,c,d,e,f){a=new t4d(c,b,lD,function(a){return k5d(d,a)},new M4(a.C,a.Db),a.F,new k0d(a.D,b),new L3d(b,a.D),void 0,a.Db);p2d(a,e,f);return a}function i5d(a,b){var c=new n4;W(c,1,a);W(c,2,b);return c}function k5d(a,b){var c=new x4;W(c,1,a);W(c,2,b);return c};function p5d(a,b,c,d){var e="Error in query on "+c;c=new s0d;c.Hd("waffle-dataconnector-error-popup");ts(c,e);c.C.setContent("Open query editor");c.J.setContent("Ok");a=10==a.getErrorCode()?i1d(d):c1d(b,a);us(c,a);return c};function q5d(a,b,c,d,e,f,h,k){B.call(this);this.H=new R0d;this.Ba(this.H);this.Ga=a;this.L=a.Mb;this.D=Y_d.getInstance();this.La=new n3d(this.D);this.F=b;this.R=f;this.J=new g5d(h,this.D,this.R);this.C=null;this.oa=new E;this.Ba(this.oa);(this.O=I(H(),"fedcpw")?null:new X0d(this.H,a,b,e))&&this.Ba(this.O);(this.ma=I(H(),"fedcpw")?new f3d(b,c,d,a,this.H):null)&&this.Ba(this.ma);this.Wa=new il(this);this.Ba(this.Wa);this.xa=new Je(this);this.Ba(this.xa);this.Ea=new k2d;this.Ba(this.Ea);r5d(this,k);
this.Wa.V(this.oa,["show","hide"],this.ojb);this.xa.subscribe(snb,"action",this.wca).subscribe(mD,"action",this.wtb).subscribe(kD,"action",this.tib).subscribe(Bnb,"action",this.Eub).subscribe(unb,"action",this.Rla).subscribe(lD,"action",this.Fkb).subscribe(znb,"action",this.Itb).subscribe(nD,"action",this.fib).subscribe(ynb,"action",this.Jrb).subscribe(Cnb,"action",this.Rla).subscribe(rnb,"action",this.Grb);s5d(this)}q(q5d,B);
function r5d(a,b){var c=iAc(),d=new Yu(jAc.concat(["waffle-dataconnector-connection-selected"])),e=jAc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||e.push("waffle-dataconnector-active-sheet-not-plx");c=new Yu(e);b.C(kD,nS).D(kD,nS).C(lD,nS).D(lD,nS).C(znb,nS).D(znb,nS).C(snb,nS).C(Bnb,c).C(unb,c).C(mD,nS).C(nD,d).C(ynb,c).C(Cnb,c);b.C(vnb,c);a.xa.dc(vnb,Na,function(){s5d(a)})}p=q5d.prototype;p.Ff=function(a){this.D.Ff(a)};
function P4(a,b){C(a.C);a.C=b;a.C.Pd(a.oa);b instanceof ss?a.R.Gh(a.C):a.R.Gh(new JBb(a.C));a.C.render();a.C.setVisible(!0)}p.wca=function(){C(this.C);this.C=null};function s5d(a){a.O&&a.O.refresh();a.ma&&a.ma.refresh()}p.ojb=function(){this.C&&this.C.isVisible()||(mD.jb(null),nD.jb(null))};
p.tJb=function(){var a=new N0d;this.Ba(a);P4(this,a);e0d(this.D).then(function(b){var c=[];dy(b,1).forEach(function(a){c.push(J0d((new I0d).tf(a.getId()).Ie(a.getName()).setType(V(a,3))).build())});a.isDisposed()||(P0d(a,c),O0d(a,!1))})};p.I0a=function(){var a=this,b=t5d("Connecting to Plx...");u5d(this,"Plx",2).then(function(c){c=new F0d(c,2);a.Ba(c);P4(a,c);zr(yr.getInstance(),b)},function(){v5d("Could not connect to Plx");zr(yr.getInstance(),b)})};
p.H0a=function(){var a=this,b=this.Ga.F;if(b.C.DisplayBigQueryWelcomeDialog.getValue()){var c=new r0d;this.Ba(c);P4(this,c);c.getResult().then(function(d){C(c);d&&(qK(b,"DisplayBigQueryWelcomeDialog",!1),w5d(a))},function(){C(c)})}else w5d(this)};p.wMb=function(){x5d(this,[],!1)};
function w5d(a){var b=t5d("Connecting to BigQuery..."),c;u5d(a,"BigQuery",3).then(function(b){c=b;return o0d(new k0d(a.D,b))}).then(function(d){zr(yr.getInstance(),b);y5d(a,c,d)},function(){zr(yr.getInstance(),b);v5d("Could not connect to BigQuery")})}function y5d(a,b,c){c=new E_d(c);var d=new W_d(c);a.Ba(d);P4(a,d);d.getResult().then(function(c){c=n5d(a.J,b,c);a.Ba(c);P4(a,c)},function(){C(d)})}function t5d(a){return yr.getInstance().postMessage(Ar(a,"info",!0))}
function v5d(a){yr.getInstance().postMessage(Ar(a,"error",!0))}function u5d(a,b,c){var d=new j4;d.Ie(b);W(d,2,c);return Z_d(a.D,d).then(function(a){return V(a,2)})}function z5d(a,b){var c=t5d("Importing connection..."),d=new k4;d.tf(b);d.setType(1);return a0d(a.D,d).then(function(){zr(yr.getInstance(),c)},function(){zr(yr.getInstance(),c)})}p.Itb=function(){var a=this.C,b=a.F;switch(a.C){case 2:A5d(this,b);break;case 1:B5d(this,b)}};
function B5d(a,b){var c=ZDb(a.L,b).getName();b=h5d(a.J,b,c);a.Ba(b);P4(a,b)}function A5d(a,b){b=l5d(a.J,b);a.Ba(b);P4(a,b)}p.fib=function(){var a=this,b=nD.getValue(),c=b.getId(),d=b.getType();switch(d){case 2:A5d(this,c);break;case 1:ZDb(this.L,b.getId())?B5d(this,c):z5d(this,c).then(function(){B5d(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};
p.wtb=function(a){var b=this.C;b.jKa();var c=V(a,2);k3d(l3d(j3d(o3d(this.La,a),function(a){b.isDisposed()||b.fKa(a,c)}),function(a){b.isDisposed()||b.eKa(a)}),function(a){b.isDisposed()||b.dKa(a)}).start()};p.tib=function(a){var b=this,c=this.C;$_d(this.D,a).then(function(a){C5d(b,a)},function(a){c.isDisposed()||c.Lla(a)});c.Nla()};
function C5d(a,b){S0d(a.H,V(b,2),b.Tj());var c=b.Lb();a.wca();eI(a.F,c)?hI(a.F.C)==c?s5d(a):jI(a.F,c):a.Wa.Uc(a.F,["Ca","ra"],function(b){"Ca"==b.type&&b.Dh==c&&jI(a.F,c)})}p.Eub=function(){x5d(this,[mK(this.F.C)],!0)};function x5d(a,b,c){var d=new $Zd;b.forEach(function(a){by(d,1,a)});c0d(a.D,d).then(function(b){D5d(a,dy(b,1));s5d(a)},function(b){return E5d(a,b,c)})}
function E5d(a,b,c){var d=[],e=[];dy(b,1).forEach(function(a){return 3==a.Tj().getState()?e.push(a):d.push(a)});D5d(a,d);s5d(a);c&&(b=e[0],c=b.Tj(),c.getErrorCode(),F5d(a,b.Lb(),c))}function D5d(a,b){b.forEach(function(b){var c=eI(a.F,b.Lb());if(c=c&&c.H)c=V(c,1),b=b.Tj(),a.H.C[c]=b})}
function F5d(a,b,c){var d=eI(a.F,b),e=d&&d.H;if(e){d=d.le();e=G5d(a,e);var f="waffle-dataconnector-ssologin-"+Xb(),h=p5d(c,e,d,f);a.Ba(h);a.R.Gh(h);h.render();h.setVisible(!0);h.getResult().then(function(){C(h);a.Rla(b)},function(){C(h)});(c=Jd(f))&&H4.prototype.getHandler.call(h).V(c,"click",function(){H5d(a,b,h)})}}function H5d(a,b,c){l2d(a.Ea,function(){C(c);x5d(a,[b],!0)})}
p.Rla=function(a){if((a=void 0!==a?eI(this.F,a):this.F.C.C)&&dI(a)){var b=a.H;a=V(b,2);b=V(b,1);switch(V(ZDb(this.L,a),3)){case 2:a=m5d(this.J,a,b,I5d(this,b),J5d(this,b));this.Ba(a);P4(this,a);break;case 1:var c=ZDb(this.L,a).getName();a=j5d(this.J,a,c,b,I5d(this,b),J5d(this,b));this.Ba(a);P4(this,a);break;case 3:K5d(this,a,b)}}};
function K5d(a,b,c){var d=t5d("Connecting to BigQuery...");o0d(new k0d(a.D,b)).then(function(e){zr(yr.getInstance(),d);e=o5d(a.J,b,new E_d(e),c,I5d(a,c),J5d(a,c));a.Ba(e);P4(a,e)},function(){zr(yr.getInstance(),d);v5d("Could not connect to BigQuery")})}function I5d(a,b){var c=gf(),d=new w_d;W(d,1,b);h0d(a.D,d).then(function(a){c.resolve(V(a,2))},function(a){return c.reject(a)});return c.C}
function J5d(a,b){var c=T0d(a.H,b);if(!c||3!=c.getState())return null;var d=gf();c=new A_d;W(c,1,b);a.D.Tj(c).then(function(a){d.resolve(a.Tj())},function(){return d.reject()});return d.C}p.Fkb=function(a){var b=this,c=V(a,1),d=this.C;d0d(this.D,a).then(function(a){a=a.Tj();b.H.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);jI(b.F,a);b.wca();s5d(b)},function(a){d.isDisposed()||d.Lla(a)});d.Nla()};function G5d(a,b){b=V(b,2);a=a.L.C[b];b=V(a,3);a.getName();return b}
p.Jrb=function(){var a=this,b=this.F.C.C,c=V(b.H,1),d=new A_d;W(d,1,c);this.D.Tj(d).then(function(c){(c=c.Tj())&&3==c.getState()&&F5d(a,b.Lb(),c)})};p.Grb=function(){Fr("https://cloud.google.com/bigquery/docs/projects")};function L5d(){B.call(this)}q(L5d,DC);L5d.prototype.C=function(){return q5d};JC("dataconnector",L5d);
