aw.prototype.Iq=ea(43,g("reason"));y_a.prototype.Iq=ea(42,g("C"));bC.prototype.Iq=ea(41,function(){return V(this,2)});function ffe(a,b){$o(a.C,8192)?b():(Zp(a.EN,a.ma,function(){b()}),a.create())}function gfe(a){a.O=!0;return a}function x5(a){Ff(this,a,0,-1,null,null)}y(x5,Ef);x5.prototype.Iq=function(){return F(this,1)};x5.prototype.GV=function(){return F(this,2)};function hfe(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function ife(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function jfe(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function kfe(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function lfe(a){Ff(this,a,0,-1,null,null)}y(lfe,Ef);lfe.prototype.E3=function(){return F(this,1)};lfe.prototype.GV=function(){return F(this,2)};
function mfe(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function nfe(a){qv.call(this);this.O=a;ts(this,"Turn on offline for all files?");a=new Bs;Gs(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Gs(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Es(this,a);Ds(this,!1);this.Fi=this.Ir=!0;a=new hU;us(this,Ts(ARc(a,mfe)));this.C=this.F=null}y(nfe,qv);
nfe.prototype.Ja=function(){nfe.qa.Ja.call(this);Ps(this,this.D.Du);this.F=re(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=re(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Uc(this.F,"click",this.L)};nfe.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};nfe.prototype.L=function(){K(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function ofe(a,b,c){E.call(this);this.D=a;this.xa=b;this.L=c;this.O=new is(this.L,jNa(),this);this.F=gf();this.H=this.C=null;this.J=!1}y(ofe,E);ofe.prototype.start=function(){var a=this;pfe(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V(qKa,a.ma).V(dKa,a.oa).V(hKa,a.R)},function(b){a.F.resolve(Ke(b))})};function qfe(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
ofe.prototype.ma=function(a){a=Lf(a,oKa,1);for(var b=0;b<a.length;b++){var c=a[b].Sy(uKa);if(c&&F(c,1)==this.D){pfe(this,"Document data changed");break}}};ofe.prototype.oa=function(a){F(a,1)==this.D&&pfe(this,"Document available")};ofe.prototype.R=function(){pfe(this,"Offline disabled")};
function pfe(a,b){return jf(rfe(a.xa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("xf");f&&a.dispatchEvent("yf")}),function(a){throw Le(a,{pinStatusUpdateReason:b});})};function sfe(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=gf()}y(sfe,E);function tfe(a){return a.F.C.then(function(a){if(null!=a)throw a;})}sfe.prototype.wA=g("D");function ufe(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("zf")}function vfe(a){if(!a.D)return!1;a=a.D.Iq();return 1==a||6==a}sfe.prototype.E3=g("C");function y5(a){Ff(this,a,0,-1,null,null)}y(y5,Ef);y5.prototype.getType=function(){return F(this,1)};y5.prototype.setType=function(a){G(this,1,a)};function wfe(a){Ff(this,a,0,-1,null,null)}y(wfe,Ef);wfe.prototype.getType=function(){return F(this,1)};wfe.prototype.setType=function(a){G(this,1,a)};wfe.prototype.MI=function(){return Kf(this,xfe,2)};function xfe(a){Ff(this,a,0,-1,null,null)}y(xfe,Ef);xfe.prototype.getType=function(){return F(this,1)};xfe.prototype.setType=function(a){G(this,1,a)};
xfe.prototype.getErrorMessage=function(){return F(this,2)};function yfe(a){Ff(this,a,0,-1,zfe,null)}y(yfe,Ef);var zfe=[1];function Afe(a){Ff(this,a,0,-1,Bfe,null)}y(Afe,Ef);var Bfe=[1];function Cfe(a){Ff(this,a,0,-1,null,null)}y(Cfe,Ef);Cfe.prototype.H=function(){return Kf(this,lfe,1)};function Dfe(a){Ff(this,a,0,-1,null,null)}y(Dfe,Ef);Dfe.prototype.wA=function(){return Kf(this,x5,1)};function Efe(a){Ff(this,a,0,-1,null,null)}y(Efe,Ef);function Ffe(a){Ff(this,a,0,-1,null,null)}y(Ffe,Ef);
Ffe.prototype.wA=function(){return Kf(this,x5,1)};function Gfe(a){Ff(this,a,0,-1,null,null)}y(Gfe,Ef);Gfe.prototype.getId=function(){return F(this,1)};Gfe.prototype.tf=function(a){G(this,1,a)};Gfe.prototype.getTitle=function(){return F(this,2)};Gfe.prototype.Sp=function(){return F(this,3)};function Hfe(a){Ff(this,a,0,-1,Ife,null)}y(Hfe,Ef);var Ife=[1];function Jfe(a){Ff(this,a,0,-1,null,null)}y(Jfe,Ef);Jfe.prototype.getId=function(){return F(this,1)};Jfe.prototype.tf=function(a){G(this,1,a)};
Jfe.prototype.getType=function(){return F(this,2)};Jfe.prototype.setType=function(a){G(this,2,a)};function Kfe(a,b,c,d,e,f,h,k,l){B.call(this);this.Ea=a;this.Ga=b;this.fb=c;this.H=d;this.D=e;this.yb=k;this.xa=new Mr;this.Wa=new il(this);this.Ba(this.Wa);this.La=a.C;this.ma=f;this.bb=h;this.J=this.C=null;this.F=l;this.O=jw(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.oa=jw(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=jw(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=jw(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}y(Kfe,B);p=Kfe.prototype;p.init=function(){var a=this;ff([tfe(this.D),qfe(this.H)]).then(function(){(nk(),ei).subscribe("action",a.pDa,a);a.Wa.V(a.H,"xf",a.Zsb).V(a.H,"yf",a.qrb).V(a.D,"zf",a.srb);Lfe(a);ei.setVisible(zf)},function(b){a.yb.ad(Ke(b))})};p.pDa=function(){Mfe(this)};
function Mfe(a){return nJa(a.xa).then(function(){if(Er()){if(1==a.D.C)return Nfe(a);vfe(a.D)?Ofe(a):Pfe(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Gs(Gs(new Bs,{key:"ok",caption:"Install"},!0),Js,!1,!0),c=a.ma,d=MQc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.l3a,null,a,void 0,b,void 0);c.Gh(d);d.focus();a.J=d;Ps(a.J,b.Du)}})}
p.l3a=function(){var a=this;this.xa.install().then(function(){return Mfe(a)},function(b){b=Ke(b);a.yb.ad(b);QIa(b)})};function Nfe(a){var b=!(nk(),ei).Md();return jf((new $e(function(b){ffe(a.La,b)})).then(function(){var c=new Jfe;c.tf(a.Ea.D);c.setType(a.Ga);return Qfe(a.fb,[c],b)}),function(b){Pfe(a,a.R);a.yb.log(Ke(b))})}function Rfe(a){jf(Sfe(a.bb),function(b){a.yb.log(Ke(b))}).then(function(){if(1==a.D.C)return Nfe(a);Pfe(a,a.L)})}
function Ofe(a){a.C||(a.C=new nfe(function(){return Rfe(a)}),a.ma.Gh(a.C),a.Wa.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.Zsb=function(){Lfe(this);Tfe(this);this.H.C||Pfe(this,this.oa)};p.qrb=function(){Tfe(this)};p.srb=function(){Lfe(this)};function Tfe(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&Pfe(a,a.O)}function Pfe(a,b){b.Wb()||b.render();a.O.setVisible(!1);a.oa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function Lfe(a){(nk(),ei).gb(1==a.D.C||vfe(a.D));ei.yc(a.H.C)}p.Ha=function(){(nk(),ei).unsubscribe("action",this.pDa,this);this.C&&(vI(this.ma,this.C),C(this.C));this.J&&(vI(this.ma,this.J),C(this.J));Kfe.qa.Ha.call(this);ku(this.F,this.O);ku(this.F,this.oa);ku(this.F,this.R);ku(this.F,this.L);xb(this.O,this.oa,this.R,this.L)};function Ufe(a,b){this.Q6=a;this.LL=b};function Vfe(a,b,c,d,e){B.call(this);this.yb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new NMa;this.J=c;this.D=null;this.F=new Xp;this.Ba(this.F);this.C=Wfe(this)}y(Vfe,B);function Wfe(a){a.C&&C(a.C);var b=Bh(H(),"lssv");return new SMa(a.yb,a.O,0,a.F0a.bind(a),b,!0,a.J,new HLa)}function Xfe(a){if(a.D)return a.D;a.D=Yfe(a);return jf(a.D,function(b){a.v8();throw b;})}
function Zfe(a){return Xfe(a).then(function(a){return(new $e(function(b,d){RHa(a.EO(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Eh(H(),"docs-offline-lsuid")?new Ufe(a,b[0]):null}.bind(this))}.bind(a))}p=Vfe.prototype;p.get=function(){return Zfe(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.Q6})};function Yfe(a){return(new $e(function(a,c){nf(this.C.create(this.v8.bind(this)),a,c)}.bind(a))).then(a.ipb.bind(a))}
p.ipb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new wKa(a,this.H);this.Ba(c)}eGa(a);Yp(this.F,a.C.C.H,function(){b.v8()});Yp(this.F,a.C.ma,function(){b.v8()});return a};p.v8=function(){C(this.C);this.C=Wfe(this);this.D=null};p.F0a=function(a){return cLa(this.L,a)};p.Ha=function(){C(this.C);Vfe.qa.Ha.call(this)};function $fe(a){this.D=a}$fe.prototype.C=function(a){var b=new R0c;T0c(b,a.serialize());this.D.log(b);this.D.H()};function age(a){this.D=a}age.prototype.C=function(a){var b=new R0c;T0c(b,a.serialize());this.D.log(b);return new $e(function(a,b){this.D.flush(a,b)}.bind(this))};function bge(a){this.D=a}bge.prototype.C=function(a,b,c){Zfe(this.D).then(w(function(d){d?(new Jrc(d.Q6,"offline",null)).C(a,b,c):b()},this))};function cge(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(kt({id:"docs-offline-optinpromo-confirm-close",content:ct("Close")},c||b));return P(a+"</div></div>")};function dge(a){E.call(this);this.Db=a||Gd();this.Wa=new il(this);this.Ba(this.Wa);this.C=new Lt(a);this.C.wz(!1);ko(this.C.D,!1);this.C.Hd("docs-offline-optinpromo");this.C.render();a=this.C.hb();me(a,!0);Vk(a,"dialog");Wk(a,"labelledby","docs-offline-optinpromo-title");Wk(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new lt(null);this.Ba(this.L);this.J=new lt(null);this.Ba(this.J);this.H=new lt(null);this.Ba(this.H);this.O=this.F=this.D=null;ege(this,fge)}y(dge,E);
function fge(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(kt({id:"docs-offline-optinpromo-optin",content:ct("Turn on offline access"),style:2},b));a+=O(kt({id:"docs-offline-optinpromo-decline",content:ct("No thanks"),style:0},b));return P(a+"</div>")}
function ege(a,b){var c=N(b);a.C.setContent(c);switch(b){case fge:a.Wa.V(a.C,"show",a.ntb);b=a.Db.getElement("docs-offline-optinpromo-optin");a.L.xb(b);a.Wa.Uc(a.L,"action",w(a.Srb,a));b=a.Db.getElement("docs-offline-optinpromo-decline");a.J.xb(b);a.Wa.Uc(a.J,"action",w(a.ajb,a));a.D=a.Db.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Db.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Db.getElement("docs-offline-optinpromo-learn-more-container");a.Wa.V(a.D,"click",w(a.eNa,
a,!0)).V(a.F,"click",w(a.eNa,a,!1));break;case cge:b=a.Db.getElement("docs-offline-optinpromo-confirm-close");a.H.xb(b);a.Wa.Uc(a.H,"action",w(a.show,a,!1));a.C.hb().focus();break;default:throw Error("Cannot handle state "+b);}a.Db.getElement("docs-offline-optinpromo-title");a.Db.getElement("docs-offline-optinpromo-description")}p=dge.prototype;p.eNa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.Srb=function(){this.dispatchEvent(new D("Bf"))};p.ajb=function(){this.dispatchEvent(new D("Cf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Df"))};p.ntb=function(){this.C.hb().focus();this.dispatchEvent(new D("Af"))};function gge(a,b){this.L=a;this.H=b}function hge(a){return ige(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new x5;G(a,1,1);return a},a.J.bind(a))}gge.prototype.J=function(a){if(a instanceof x5)return a;if(a instanceof Error)throw a;throw Error(a);};
function ige(a){var b=new x5;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return df();case 4:return G(b,1,3),a=a.GV(),G(b,2,a),ef(b);case 1:return G(b,1,2),ef(b);case 5:return G(b,1,4),ef(b);default:throw Error("Unexpected enabled state: "+c);}})}gge.prototype.D=function(){return(new $e(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return df();a=new x5;G(a,1,5);return ef(a)})};gge.prototype.C=function(){if(Er())return df();var a=new x5;G(a,1,6);return ef(a)};
gge.prototype.F=function(){var a=Bh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new $e(function(b,c){U6a(function(d,e){e>a?b():(d=new x5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function jge(a,b,c){this.D=a;this.C=c||null}jge.prototype.GV=g("C");function kge(a,b){this.C=a;this.yb=b}kge.prototype.get=function(){return Zfe(this.C).then(function(a){return a?new jge(1,a.LL.getId(),a.LL.mE(),lge(this)):Xfe(this.C).then(function(a){return(new $e(function(b,d){RHa(a.EO(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new jge(4,a.getId(),a.mE());else throw Error("More than one user in store: "+a.length);else a=hfe()?new jge(2):KKa()?new jge(5):new jge(3);return a}.bind(this))}.bind(this))}.bind(this))};
function lge(a){a=new H7a(a.yb);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new fx("metadata-sync",0,!0,new ex(1,js(),hx("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new fx("service-worker-update",0,!0,new ex(2,sNa(),hx("service_worker_update"),3E5,!0,!1)),P6a());I(b,"docs-offline-edswut")&&d.push(new fx("drive-service-worker",0,!0,new ex(2,tNa(Eh(H(),"drdn"),"/drive/serviceworker/update",!0),hx("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new fx("homescreen-cello-sync",Bh(H(),"docs-offline-scstpim"),!0,new ex(2,tNa(vo(la.location.href),"/document/backgroundsync"),new gx,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new fx("drive-cello-sync",Bh(H(),"docs-offline-scstpim"),!0,new ex(2,tNa(Eh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new gx,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new fx("local-changes-sync",0,!1,new ex(1,js(),hx("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new fx("auto-sync",Bh(H(),"docs-offline-sastpim"),!1,new ex(1,js(),hx("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new fx("webfonts-sync",0,!0,new ex(1,js(),hx("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new fx("impression-sync",0,!1,new ex(1,js(),hx("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new fx("document-deletion",0,!1,new ex(1,js(),hx("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new fx("update-unsaved-changes",
0,!1,new ex(2,sNa(),hx("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new fx("cleanup-task",0,!1,new ex(2,sNa(),hx("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new fx("report-task",0,!1,new ex(2,sNa(),hx("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new fx("kix-snapshot",0,!1,new ex(1,tNa(vo(la.location.href),"/document/snapshot.js"),new gx,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new fx("sync-objects-sync",0,!0,new ex(1,js(),hx("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=o7a(a,b[d].getId()),!c||!If(c,5,!1))return!1;return!0};function mge(a){this.C=a}function nge(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Da()});a.C.setItem("optInLog",fp(c))}function oge(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new mge(a)};function pge(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function qge(a){return Xfe(a.H).then(function(a){return rge(this,a).then(function(){var b=fNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return sge(this,a,b)}.bind(this))}.bind(a)).then(function(a){return tge(this,a)}.bind(a))}function rge(a,b){return(new $e(function(a,d){RHa(b.EO(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function sge(a,b,c){var d=new OFa(F(c,1),!0);PFa(d,c.mE());QFa(d,F(c,3));RFa(d,!!F(c,4));SFa(d,!!F(c,6));Aq(d,"optInReasons",a.C);return(new $e(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function tge(a,b){nge(oge(),b.mE()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Tr;var c=new eKa;fga(b,fKa,c);vKa(a.F,b);b=new Mr;var d=new gNa(b);return jJa(b).then(function(){return new $e(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=hNa(),c=new ewa;this.C[0]&&G(c,1,MHa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.Vy(81E3,0);b=jR(a);Mf(b,34,c);this.D.Wy(a)}.bind(a))};function uge(a,b,c,d,e,f,h){B.call(this);this.Db=h||Gd();this.D=a;this.yb=b;this.J=c;this.Ub=d;a=new vNa;this.Ba(a);this.F=new Vr(a,jNa());this.Ba(this.F);this.mb=new is(this.F,jNa(),this);this.Ba(this.mb);this.ib=new is(this.F,null,this);this.Ba(this.ib);this.ma=new Vfe(this.yb,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.ma);e=new kge(this.ma,this.yb);a=new Mr;this.Tb=new gge(e,new gNa(a));e=this.ma;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Eh(b,"gaia_session_id");
a=new l1c(306,b||null,a,!(za(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new age(a);e=zf&&ILa&&(mNa()||nNa())?new bge(e):new Irc;e=new Grc(b,null,e);a=new $fe(a);b=kMa();e=Brc(Arc(gfe(yrc(xrc(new wrc,e),a)),b),84).build();a=urc(e.KB());b=(new Frc(!1)).get();a.H=b;this.tb=e;this.tb.HF();this.Bb=EOa(this.Db);this.C=null;this.Wa=new il(this);this.Ba(this.Wa);this.Ea=new Xp;this.Ba(this.Ea);this.Ga=new xm(this.Amb,6E4,this);this.Ba(this.Ga);this.Fb=!1;this.O=this.La=this.L=null;
this.H=new Ie("docs-offline-promo-reload-butter-dismisss");this.Ba(this.H);this.H.setProperty("label","Dismiss");this.H.gb(!0);this.H.dc(Oa,this.Ajb.bind(this));this.R=yr.getInstance();this.oa=this.bb=this.xa=this.Kb=!1;this.fb=zf&&zm("56.0.2924.87");this.sb=!1;this.Mb=f}y(uge,B);p=uge.prototype;p.init=function(){var a=this;Er()&&(vge(this),wge(this),z5(this).then(function(){xge(a)},function(b){a.yb.ad(Ke(b))}))};
function xge(a){a.F.connect();Yp(a.Ea,a.D.pO(),function(){a.Ga.start();z5(a)});Yp(a.Ea,a.D.qO(),function(){a.Ga.stop();vge(a);wge(a);z5(a)});a.Wa.V(a.Bb,"change",a.o3a);a.mb.V(fKa,a.n3a);a.ib.V(fKa,a.m3a).V(jKa,a.$eb)}
function z5(a){return hge(a.Tb).then(function(b){var c=1==b.Iq()&&!a.xa,d=a.D.Ii(),e;if(!(e=a.oa)&&(e=!hfe())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.fb&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Kb||(h?a.C||(a.C=new dge(a.Db),a.Ba(a.C),a.Wa.V(a.C,"Bf",a.Trb).V(a.C,"Cf",a.Prb).V(a.C,"Df",a.A1a),a.C.show(!0),yge(a)):a.C&&a.C.show(!1));if(a.Ub){if(2==b.Iq()||d||h)zge(a);else if(a.La&&
!Qf(b,a.La)&&zge(a),null==a.L){h=Age(b);if(!a.sb)switch(b.Iq()){case 1:break;case 3:Bge(a,"Offline ineligible, other user enabled");break;case 7:Bge(a,"Offline ineligible, insufficient disk space");break;case 5:Bge(a,"Offline ineligible, policy disallows");break;case 6:Bge(a,"Offline ineligible, no extension");break;case 4:Bge(a,"Offline ineligible, invalid db state");break;default:Bge(a,"Offline ineligible, unknown reason")}b=1==b.Iq()&&a.fb?Br(h,"Turn on...",a.Mtb.bind(a),"info",!1):Ar(h,"info",
!1);a.L=a.R.postMessage(b)}d&&a.xa&&!a.bb?null==a.O&&(d=Br("Reload to start editing even when offline.","Reload",a.Ntb.bind(a),"info",!0,void 0,a.H),a.O=a.R.postMessage(d)):null!=a.O&&(zr(a.R,a.O),a.O=null)}})}p.Amb=function(){JKa()||ife(!0)};
p.Urb=function(){if(this.D.Ii()){var a=Eh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+R(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+R(ht("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=QPa("Your documents are syncing",Ts(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.Db);K(b.Oq(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Kb=!0,ege(this.C,cge);this.xa=!0;z5(this)};p.n3a=function(){this.xa=!0;z5(this)};p.m3a=function(){z5(this)};p.$eb=function(){this.oa=!1;z5(this)};
p.Rrb=function(a){this.yb.ad(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=jw(this.Mb,"Turning on offline access failed. Please try again later.",this.Db);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};p.Trb=function(){this.J.fc(2054);ife(!1);qge(new pge(this.ma,this.F,this.tb)).then(w(this.Urb,this),w(this.Rrb,this))};
p.Prb=function(){this.D.Ii()?this.J.fc(2055):kfe(!0);ife(!1);la.localStorage.setItem("docs-urop","true");this.oa=!1;z5(this);var a=new Tr,b=new iKa;fga(a,jKa,b);vKa(this.F,a)};
function Age(a){switch(a.Iq()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.GV()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function Bge(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";up(a.yb,Error("Offline editing disabled: "+b),c);a.sb=!0}function zge(a){null!=a.L&&(zr(a.R,a.L),a.L=null,a.La=null)}p.Mtb=function(){this.oa=!0;z5(this)};p.Ntb=function(){la.location.reload()};p.Ajb=function(){this.bb=!0};p.o3a=function(){yge(this)};p.A1a=function(){C(this.C);this.C=null};function yge(a){!a.Fb&&a.C&&"hidden"!=a.Bb.getState()&&(a.D.Ii()?a.J.fc(2847):jfe(!0),a.Fb=!0)}
function vge(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Ii()&&(jfe(!1),a.J.fc(2847))}function wge(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Ii()&&(kfe(!1),a.J.fc(2055))};function Cge(a,b,c,d,e,f,h){B.call(this);this.D=b;this.J=gf();Dge(this);this.F=this.H=null;this.O=a;this.C=c;this.Wa=new il(this);this.Ba(this.Wa);this.L=new Xp;this.Ba(this.L);this.R=d;this.ma=e;this.xa=f;this.oa=h}y(Cge,B);p=Cge.prototype;p.start=function(){var a=this;Ege(this.D).then(function(b){b.connect();a.J.resolve(b)});Fge(this);Yp(this.L,this.O.qO(),function(){Gge(a)})};
function Sfe(a){if(2!=a.C.E3())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.E3());ufe(a.C,4);return Hge(a.D,10).then(function(a){var b=a.Iq();return df().then(function(){return 1==b||2==b?A5(this,1):A5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.wA=function(){return this.D.wA()};
function Fge(a){jf(a.D.H().then(function(a){switch(a.E3()){case 1:return Ige(this.D).then(function(){return A5(this,1)}.bind(this)).then(function(){Gge(this)}.bind(this));case 2:return A5(this,2);case 4:return Jge(this,a.GV());case 3:return a=F(a,3),null!=a?Kge(this,a):A5(this,2);case 5:return Lge(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.Hyb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&jf(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("zf")}.bind(this)),ba().bind(this))};function Jge(a){return A5(a,2)}function Kge(a,b){return a.ma?Hge(a.D,b).then(function(a){switch(a.Iq()){case 1:return A5(this,1);case 2:return A5(this,1);default:return A5(this,2)}}.bind(a)):df()}
function Lge(a){return a.xa?Hge(a.D,2).then(function(a){switch(a.Iq()){case 1:case 2:return A5(this,1);default:return A5(this,2)}}.bind(a)):df()}function Dge(a){a.J.C.then(function(a){this.H=new is(a,"user_"+this.R,this);this.Ba(this.H);this.F=new is(a,null,this);this.Ba(this.F);this.H.V(fKa,this.q3a).V(hKa,this.hrb).V(lKa,this.Hyb);this.F.V(fKa,this.p3a).V(hKa,this.Zeb)}.bind(a))}p.q3a=function(){jf(A5(this,1),ba().bind(this))};p.hrb=function(){jf(A5(this,2),ba().bind(this))};p.p3a=function(){Mge(this)};
p.Zeb=function(){Mge(this)};function A5(a,b){return a.wA().then(function(a){ufe(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("zf")}.bind(this))}.bind(a)).then(ba().bind(a))}function Mge(a){a.wA().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("zf")}.bind(a))}function Gge(a){a.oa&&1==a.C.C&&jf(Nge(a.D),ba().bind(a))};function Oge(a){this.D=a}Oge.prototype.C=g("D");function Pge(a,b,c,d){B.call(this);this.F=gf();this.Db=d||Gd();this.Wa=new il(this);this.Ba(this.Wa);this.J=a;a=new Ko(b);a.qc("ouid",this.J);uNa()&&a.qc("Debug","true");Ro(a,"cd="+c);if(Gb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Oo(No(Lo(new Ko,a.H),a.C),a.J).toString();this.C=this.Db.Da("IFRAME",{style:"display:none"});Rca(this.C,Ir(a.toString()));this.Wa.V(ue(this.Db),"message",this.O);this.Db.Zb().body.appendChild(this.C);this.D=!1}y(Pge,B);
function Ege(a){var b=new y5;b.setType(1);return B5(a,b).then(function(a){a=new Vr(new Oge(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function rfe(a,b){var c=new y5;c.setType(2);var d=new yfe;G(d,1,b||[]);Mf(c,2,d);return B5(a,c).then(function(a){return Lf(Kf(a.response,Afe,3),Gfe,1)}.bind(a))}Pge.prototype.H=function(){var a=new y5;a.setType(4);return B5(this,a).then(function(a){return Kf(a.response,Cfe,4).H()}.bind(this))};
Pge.prototype.wA=function(){var a=new y5;a.setType(10);return B5(this,a).then(function(a){return Kf(a.response,Dfe,7).wA()}.bind(this))};function Qfe(a,b,c){var d=new y5;d.setType(5);var e=new Hfe;Nf(e,1,b);G(e,2,c);Mf(d,3,e);return B5(a,d).then(ba())}function Hge(a,b){var c=new y5;c.setType(6);var d=new Efe;G(d,1,b);Mf(c,4,d);return B5(a,c).then(function(a){return Kf(a.response,Ffe,5).wA()})}function Ige(a){var b=new y5;b.setType(9);return B5(a,b).then(ba())}
function Nge(a){var b=new y5;b.setType(11);return B5(a,b).then(ba())}
function B5(a,b){return a.F.C.then(function(a){var c=new MessageChannel;a.postMessage(b.Wf(),[c.port2]);var e=gf();c.port1.onmessage=w(function(a){a=new Qge(a);a.response&&a.response.MI()?(a=a.response.MI(),e.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):e.resolve(a)},this);var f=u(void 0)?void 0:3E4,h=um(function(){e.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+f+"ms."))},f);hf(e.C,function(){c.port1.close();
vm(h)});return e.C}.bind(a))}Pge.prototype.O=function(a){(a=a.ze)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],wb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.Wa))};Pge.prototype.Ha=function(){this.Db.xf(this.C);Pge.qa.Ha.call(this)};function Qge(a){this.response=a.data?new wfe(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Rge(a,b,c,d,e,f,h,k,l,m){B.call(this);this.F=Eh(H(),"docs-offline-lsuid");I(H(),"docs-offline-eeooip")&&(c=new uge(a,b,c,d,h,l,m),this.Ba(c),c.init());this.H=new vNa;this.C=new Vr(this.H,jNa());this.Ba(this.C);this.C.connect();this.D=new sfe;this.Ba(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=rNa("/iframeapi",void 0),c=new Pge(this.F,c,1),this.Ba(c),a=new Cge(a,c,this.D,this.F,!1,!1,!1),this.Ba(a),a.start(),d=new ofe(e.D,c,this.C),this.Ba(d),d.start(),
b=new Kfe(e,f,c,d,this.D,k,a,b,l),this.Ba(b),b.init())}y(Rge,B);function Sge(){B.call(this)}y(Sge,DC);Sge.prototype.C=function(a,b,c,d,e,f,h,k,l){return new Rge(a,b,c,!0,d,e,f,h,k,l)};JC("offline",Sge);
